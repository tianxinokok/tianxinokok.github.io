<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
    <link rel="stylesheet" href="/source/css/index.css" type="text/css">
    <link rel="stylesheet" href="/source/css/post_last.css" type="text/css">
    <link rel="stylesheet" href="/source/css/obsidian.min.css">
<!--     <link rel="stylesheet" type="text/css" href="/source/css/nav.css"> -->
    <link rel="stylesheet" type="text/css" href="/source/css/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>摆渡先生</title>
   <!-- <link rel="stylesheet" href="/css/highlight.css" type="text/css">-->
</head>

 <body>
 <div class="nav_box" style="z-index: 10000">
<nav class="nav">
	<ul class="nav__list">
		<li class="nav__item">
			<a class="nav__link" href="/">
				<div class="nav__link-content">
					<span class="nav__link-num">01</span>
					<div class="nav__link-title">Works</div>
					<div class="nav__link-desc">What I'm made</div>
				</div>
				<div class="nav__link-base"></div>
			</a>
			<div class="nav__item-line"></div>
		</li>
		<li class="nav__item">
			<a class="nav__link" href="/new">
				<div class="nav__link-content">
					<span class="nav__link-num">02</span>
					<div class="nav__link-title">News</div>
					<div class="nav__link-desc">Latest ramblings</div>
				</div>
				<div class="nav__link-base"></div>
			</a>
			<div class="nav__item-line"></div>
		</li>
		<li class="nav__item">
			<a class="nav__link" href="/book">
				<div class="nav__link-content">
					<span class="nav__link-num">03</span>
					<div class="nav__link-title">Books</div>
					<div class="nav__link-desc">Many good books</div>
				</div>
				<div class="nav__link-base"></div>
			</a>
			<div class="nav__item-line"></div>
		</li>
		<li class="nav__item">
			<a class="nav__link" href="/contact">
				<div class="nav__link-content">
					<span class="nav__link-num">04</span>
					<div class="nav__link-title">Contact</div>
					<div class="nav__link-desc">Don't be shy</div>
				</div>
				<div class="nav__link-base"></div>
			</a>
			<div class="nav__item-line"></div>
		</li>
        <li class="phone_btn_close nav__item">
            x
        </li>
	</ul>
  <div class="header_logo">
    <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 825 299" style="enable-background:new 0 0 825 299;" xml:space="preserve">
<g class="logo_baidu">
  <path class="st0 logo_baidu_letter" fill="#fff" d="M132.94,183.58c-5.84,0.73-10.94,1.46-15.31,2.19c-2.19,0.73-4.02,0-5.47-2.19c0-5.1,1.82-8.02,5.47-8.75
    c3.64,0.73,8.75,1.09,15.31,1.09c0-5.1-0.37-10.2-1.09-15.31c0-2.91,1.09-4.38,3.28-4.38c7.29,0.73,10.57,3.65,9.84,8.75
    c-0.73,2.92-1.09,6.56-1.09,10.94h8.75c2.91,0.73,4.38,2.19,4.38,4.38c-2.19,1.46-6.56,2.19-13.13,2.19v9.84
    c7.29-1.45,11.3-1.45,12.03,0c0.73,2.19-3.28,4.74-12.03,7.66c0,11.67,0.36,21.52,1.09,29.53c0.73,5.84-1.46,10.21-6.56,13.13
    c-4.38,2.19-10.94,1.83-19.69-1.09c-7.3-3.64-11.3-7.29-12.03-10.94c17.5,4.38,26.25,3.65,26.25-2.19c0.73-9.48,0.73-17.86,0-25.16
    c-8.75,2.92-14.95,4.74-18.59,5.47c-2.92,0-4.74-1.45-5.47-4.38c-0.73-3.64,0.73-5.83,4.38-6.56c5.1-0.73,11.66-1.82,19.69-3.28
    V183.58z M217.16,162.8c3.64,0.73,5.47,3.28,5.47,7.66c-1.46,5.84-2.19,11.67-2.19,17.5c-0.73,3.65-2.92,5.11-6.56,4.38
    c-6.56-1.45-12.77-2.19-18.59-2.19c-0.73,2.19-0.73,4.38,0,6.56h14.22c3.64,0,5.83,0.73,6.56,2.19c0.73,2.92-1.09,4.38-5.47,4.38
    h-15.31c-0.73,2.19-0.73,4.38,0,6.56c15.31,0.73,28.8,0.73,40.47,0c-5.11,10.94-12.4,14.22-21.88,9.84
    c-6.56-2.19-13.13-3.28-19.69-3.28l-5.47,6.56c-2.92,2.92-5.11,5.47-6.56,7.66c3.64,2.92,7.66,4.02,12.03,3.28
    c5.1-1.45,8.38-3.28,9.84-5.47c-1.46-0.73-3.28-1.82-5.47-3.28c0.73-3.64,2.55-5.47,5.47-5.47c2.91-0.73,6.2,0.73,9.84,4.38
    c5.1,4.38,8.75,8.39,10.94,12.03c2.19,4.38,0.73,5.84-4.38,4.38c-3.65-2.91-7.66-5.83-12.03-8.75c-5.11,7.3-11.3,10.58-18.59,9.84
    c-8.02-3.64-13.13-5.1-15.31-4.38c-2.92,0.73-5.84,1.83-8.75,3.28c-2.92,0.73-5.11-0.36-6.56-3.28c-0.73-2.19,0-4.01,2.19-5.47
    c2.91-2.19,5.83-4.01,8.75-5.47c6.56-3.64,10.57-6.92,12.03-9.84c-14.59,0.73-24.06,1.83-28.44,3.28
    c-3.65,0.73-5.11-0.73-4.38-4.38c1.45-3.64,3.28-5.83,5.47-6.56c6.56,1.46,15.67,1.83,27.34,1.09c0.73-2.19,0.73-4.38,0-6.56
    c-7.3,0-13.49,0.37-18.59,1.09c-3.65,0.73-4.74-1.09-3.28-5.47c1.45-1.45,3.64-2.55,6.56-3.28c5.1,0.73,10.2,1.09,15.31,1.09
    c0.73-2.19,0.73-4.38,0-6.56c-6.56,0-11.67,0.73-15.31,2.19c-3.65,1.46-5.84,0.37-6.56-3.28c-0.73-8.75-1.46-15.67-2.19-20.78
    c0-4.38,2.55-6.2,7.66-5.47C181.8,164.99,198.93,164.99,217.16,162.8z M167.94,170.46c-0.73,2.92-0.73,7.3,0,13.13
    c3.64,1.46,6.56,1.46,8.75,0c0.73-4.38,0.73-8.75,0-13.13C174.51,169.73,171.58,169.73,167.94,170.46z M184.35,183.58
    c3.64,0.73,6.56,0.73,8.75,0c0.73-5.1,0.73-9.48,0-13.13c-2.92-0.73-5.84-0.73-8.75,0C183.62,175.57,183.62,179.94,184.35,183.58z
     M200.76,170.46c-0.73,3.65-0.73,8.02,0,13.13c4.38,1.46,7.66,1.46,9.84,0c2.19-3.64,2.55-8.02,1.09-13.13
    C208.05,169.73,204.4,169.73,200.76,170.46z"/>
  <path class="st0 logo_baidu_letter" fill="#fff" d="M255.44,189.05c8.75,2.92,17.5,5.11,26.25,6.56c1.45,0.73,1.45,1.83,0,3.28c-5.84,2.19-11.3,3.28-16.41,3.28
    c-7.3,0.73-13.13,0-17.5-2.19c-2.92-2.19-2.92-5.1,0-8.75C249.98,189.05,252.52,188.33,255.44,189.05z M255.44,216.4
    c8.75-1.45,17.5-4.01,26.25-7.66c1.45-0.73,2.55-0.73,3.28,0c-2.19,4.38-5.11,8.02-8.75,10.94c-4.38,3.65-10.94,6.93-19.69,9.84
    c-2.92,0-5.11-1.82-6.56-5.47C249.24,219.68,251.07,217.13,255.44,216.4z M262.01,166.08c7.29,5.11,14.95,9.48,22.97,13.13
    c-0.73,1.46-4.38,2.19-10.94,2.19s-12.77-1.45-18.59-4.38c-2.19-1.45-2.92-3.28-2.19-5.47
    C254.71,167.18,257.63,165.36,262.01,166.08z M313.41,186.87c-4.38-0.73-8.39-0.36-12.03,1.09c0,5.84-0.73,13.13-2.19,21.88
    c-0.73,4.38-2.19,8.39-4.38,12.03c-2.19,3.65-4.38,6.56-6.56,8.75c-5.11,4.38-9.48,6.93-13.13,7.66c-2.92,0-5.47-0.36-7.66-1.09
    c-1.46-1.45-2.55-2.55-3.28-3.28c2.91-2.19,6.2-4.01,9.84-5.47c3.64-2.19,6.92-5.1,9.84-8.75c2.19-3.64,4.01-7.29,5.47-10.94
    c1.45-5.83,2.19-11.3,2.19-16.41c0.73-8.75-0.37-16.04-3.28-21.88c0-4.38,2.19-6.56,6.56-6.56c4.38,1.46,12.39,2.19,24.06,2.19
    v-6.56c1.45-2.91,4.38-4.01,8.75-3.28c2.19,0.73,4.01,1.83,5.47,3.28v6.56h20.78c6.56,0,9.84,1.46,9.84,4.38
    c-1.46,1.46-7.66,2.19-18.59,2.19c-1.46,2.92-1.46,5.47,0,7.66h8.75c5.83,0,8.75,1.09,8.75,3.28s-1.09,3.28-3.28,3.28h-14.22
    c-0.73,3.65-0.73,6.93,0,9.84c0.73,3.65-1.09,5.11-5.47,4.38c-2.92-1.45-5.84-2.55-8.75-3.28c-2.19,0-4.38,0-6.56,0
    c-2.19,0.73-4.02,1.46-5.47,2.19c-3.65,0.73-5.47-0.36-5.47-3.28C314.14,192.33,314.14,189.05,313.41,186.87z M314.51,202.18
    c2.19,0.73,4.38,1.09,6.56,1.09c7.29-0.73,14.95-0.36,22.97,1.09c5.1,1.46,6.92,4.02,5.47,7.66c-2.19,2.92-5.11,6.93-8.75,12.03
    c16.04,5.11,28.07,7.66,36.09,7.66c-7.3,10.94-14.59,14.58-21.88,10.94c-6.56-4.38-13.49-8.75-20.78-13.13
    c-9.48,5.11-17.87,8.75-25.16,10.94c-6.56,1.46-10.58-0.73-12.03-6.56c0.73-0.73,4.73-1.82,12.03-3.28
    c8.02-1.45,14.22-3.64,18.59-6.56c-4.38-2.91-8.39-5.47-12.03-7.66c0-3.64,1.82-5.1,5.47-4.38c3.64,2.19,7.66,4.74,12.03,7.66
    c2.91-2.19,4.73-4.73,5.47-7.66c0.73-2.19-0.73-3.28-4.38-3.28c-6.56,0-12.77,0.37-18.59,1.09c-3.65,2.19-5.84,2.19-6.56,0
    C309.76,205.46,311.58,202.91,314.51,202.18z M313.41,172.65c-3.65-0.73-8.02-0.73-13.13,0c-0.73,2.92-0.73,5.47,0,7.66
    c4.38,0.73,8.75,0.73,13.13,0C314.14,177.39,314.14,174.83,313.41,172.65z M322.16,172.65c-0.73,2.92-0.73,5.47,0,7.66
    c5.1,0.73,9.48,0.73,13.13,0c0.73-2.91,0.73-5.47,0-7.66C330.91,171.92,326.54,171.92,322.16,172.65z M336.38,186.87
    c-4.38-0.73-9.12-0.73-14.22,0c0,1.46,0,3.28,0,5.47c4.38,0.73,8.38,0.73,12.03,0C336.38,192.33,337.11,190.51,336.38,186.87z"/>
</g>
<polyline class="st1 logo_baidu_border" points="409.5,179.35 409.5,261 81.5,261 81.5,140 367.18,140 " fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="16"/>
<g class="logo__plus" fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="16">
  <line class="st1 logo__plus-horz" x1="382.5" y1="140.5" x2="436.5" y2="140.5"/>
  <!-- <path class="st1" d="M411.5,117.5"/> -->
  <line class="st1 logo__plus-vert" x1="409.5" y1="167.5" x2="409.5" y2="113.5"/>
</g>
<g class="logo__xiansheng">
  <path class="st2 logo_xiansheng_letter" fill="#fff" d="M484.78,60.65c-5.11,3.65-9.12,5.47-12.03,5.47c-4.38,0-5.47-1.09-3.28-3.28c5.1-2.91,8.75-8.02,10.94-15.31
    c1.45-6.56,3.64-9.48,6.56-8.75c2.91,0,4.73,1.46,5.47,4.38c0,3.65-1.09,6.56-3.28,8.75h16.41V39.87c0-4.38,1.82-6.92,5.47-7.66
    c6.56,0,9.84,2.92,9.84,8.75V51.9h25.16c4.38,0,6.2,1.83,5.47,5.47c-0.73,2.19-2.19,3.28-4.38,3.28h-26.25v8.75
    c10.94,0,22.6,0.37,35,1.09c2.91,0,4.73,1.09,5.47,3.28c0.73,4.38-1.83,6.56-7.66,6.56c-10.21-0.73-19.69-1.09-28.44-1.09v10.94
    c0,8.02,6.56,12.03,19.69,12.03c14.58,0.73,26.25-1.45,35-6.56c-2.92,10.94-6.2,17.5-9.84,19.69c-7.3,5.11-17.87,5.84-31.72,2.19
    c-5.11-1.45-9.48-3.28-13.13-5.47c-7.3-4.38-11.3-10.57-12.03-18.59V79.24h-6.56c-0.73,4.38-2.55,9.48-5.47,15.31
    c-6.56,9.48-14.22,16.05-22.97,19.69c-7.3,2.92-14.59,3.65-21.88,2.19c-6.56-2.91-8.75-5.83-6.56-8.75
    c24.79-0.73,40.1-10.2,45.94-28.44c-5.84-0.73-13.49,0-22.97,2.19c-7.3,2.19-10.58,0.73-9.84-4.38c3.64-5.83,6.92-8.38,9.84-7.66
    c8.02,1.46,18.95,1.46,32.81,0v-8.75H484.78z"/>

  <path class="st3 logo_xiansheng_letter" fill="#fff" d="M645.29,63.43c-6.56-0.73-14.22-0.73-22.97,0c-2.92,3.65-7.3,6.93-13.13,9.84c-2.92,0.73-4.02,0-3.28-2.19
    c5.83-6.56,9.84-13.48,12.03-20.78c2.19-8.75,6.2-12.03,12.03-9.84c4.38,2.92,3.64,8.02-2.19,15.31h17.5
    c0.73-6.56,0.73-12.39,0-17.5c0-4.38,2.19-6.92,6.56-7.66c5.83,0,8.75,2.55,8.75,7.66c0,8.75,0.36,14.59,1.09,17.5h22.97
    c8.02-0.73,12.03,0.73,12.03,4.38c2.19,3.65-9.48,4.74-35,3.28c-1.46,3.65-1.46,7.3,0,10.94l21.88,1.09c2.91,0,6.2,0.73,9.84,2.19
    c1.45,2.92,1.09,4.74-1.09,5.47c-8.75-0.73-18.23-0.73-28.44,0c-2.19,0-3.28,3.65-3.28,10.94c0.73,6.56,16.04,8.02,45.94,4.38
    c3.64,0,8.02-0.73,13.13-2.19c-3.65,16.77-12.03,22.97-25.16,18.59c-22.61-8.02-48.13-10.2-76.56-6.56
    c-10.94,2.19-17.87,3.65-20.78,4.38c-5.84,1.46-8.02-0.36-6.56-5.47c2.91-5.83,6.92-9.48,12.03-10.94
    c2.91-0.73,7.29-0.36,13.13,1.09c18.95,2.19,28.8,1.46,29.53-2.19c1.45-8.02,0-12.03-4.38-12.03c-7.3-0.73-14.22,0-20.78,2.19
    c-4.38,1.46-5.84-0.36-4.38-5.47c0.73-2.19,2.91-4.38,6.56-6.56c2.91-1.45,5.83-1.09,8.75,1.09c5.83,0.73,10.2,0.73,13.13,0
    C646.38,72.91,646.74,69.27,645.29,63.43z"/>
</g>
<polyline class="st1 logo_xiansheng_border" points="409.5,101.65 409.5,20 737.5,20 737.5,141 451.82,141 " fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="16"/>
</svg>
  </div>
</nav>
<svg class="nav__bg" width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <linearGradient class="nav__grad" x1="92.6356902%" y1="7.36430977%" x2="0%" y2="100%" id="nav-grad">
            <!-- <stop stop-color="#000000" offset="20%"></stop>
            <stop stop-color="#223e36" offset="100%"></stop> -->
            <!-- <stop stop-color="#43C6AC" offset="20%"></stop>
            <stop stop-color="#191654" offset="100%"></stop> -->
            <stop stop-color="#00dbde" offset="20%"></stop>
            <stop stop-color="#fc00ff" offset="100%"></stop>
        </linearGradient>
		<mask id="nav__bg-mask" class="nav__bg-mask" maskUnits="userSpaceOnUse"x="0" y="0" width="100" height="100">
		  	<rect class="nav__bg-mask-rect" x="0" y="0" width="25" height="100" fill="white"/>
			<rect class="nav__bg-mask-rect" x="24.9" y="0" width="25.1" height="100" fill="white"/>
			<rect class="nav__bg-mask-rect" x="49.9" y="0" width="25.1" height="100" fill="white"/>
			<rect class="nav__bg-mask-rect" x="74.9" y="0" width="25.1" height="100" fill="white"/>
		</mask>
    </defs>
    <rect x="0" y="0" width="100" height="100" fill="url(#nav-grad)" mask="url(#nav__bg-mask)"></rect>
</svg>
<button class="nav-btn">
	<svg class="burger <?php echo $darkBurgerClass; ?>" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">
	<rect class="burger__stroke"  x="2" y="2" width="32" height="32" fill="none" stroke="" stroke-miterlimit="10" stroke-width="4"/>
	<polyline class="burger__stroke-over"points="18 2 34 2 34 34 2 34 2 2 18 2" fill="none" stroke="" stroke-miterlimit="10" stroke-width="4"/>
	<g class="burger__plus">
		<rect class="burger__plus-left" x="8" y="16" width="10" height="4"/>
		<rect class="burger__plus-btm" x="16" y="18" width="4" height="10"/>
		<rect class="burger__plus-right" x="18" y="16" width="10" height="4"/>
		<rect class="burger__plus-top" x="16" y="8" width="4" height="10"/>
	</g>
	</svg>
</button>
   <!--phone_menu-->  
<button class="nav_btn_phone">
  <svg version="1.1" id="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     viewBox="0 0 213 200" style="enable-background:new 0 0 213 200;" xml:space="preserve">
  <g>
    <line class="svg_menu_phone" x1="33" y1="58" x2="177" y2="58"/>
    <line class="svg_menu_phone" x1="33" y1="100" x2="177" y2="100"/>
    <line class="svg_menu_phone" x1="33" y1="142" x2="177" y2="142"/>
  </g>
  </svg>
</button>
</div>

   <div class="content_container">
      <div class="common_box">
        <div class="slide_img" id="slide_img_1"><div class="slide_img_shade"></div></div>
        <div class="title_box">
          <h2 class="main_title"><span>WORKS</span></h2>
        </div> 
      </div>
      <div class="content_box">
          <div class="content_content" >
            <div class="post_content">
                <div class="content_title">
                  <h1>canvas满天繁星</h1><span id="busuanzi_container_page_pv">
                  <span><time datetime=""></time></span>
                </div>
                  <p>demo先放着：<a href="/test/canvas_star/rect_star.html" target="_blank">漫天繁星</a></p>

<h3 id="一在学校学的flash">一、在学校学的flash</h3>
<p>话说作为一个学习计算机专业的学生，大学一定上过动效制作类的课程（课程名字可能不同），我的印象中就有这么一个场景，一个胖胖的女老师，在讲台上温柔的告诉你，学好flash动画，你才能做出酷炫的网页，如果学不好flash，你做的网页就跟一潭死水一样，没有酷酷的效果，那时正是css3刚刚提起，还没有定版的时候，短短几年，随着前端技术的不断发展，想要在网站上实现动画效果，已经有多种方案供我们选择，并且性能上有质的飞跃，让flash在制作网页动画方面慢慢退出历史舞台，不知道曾经的老师，是不是还在教用flash做动画，毕竟老师教什么教材，不是老师决定的，逼逼叨到此结束，今天的主角是<code class="highlighter-rouge">&lt;canvas&gt;</code>，一个牛逼赫赫的神秘男子。</p>

<h3 id="二动画小人书">二、动画小人书</h3>
<p>canvas你可以称之为画布，在上面画出我们想要的图画，再用橡皮擦掉，再画上一幅图画，再擦，再画，再擦，重复上述过程，动画不就出来了嘛，就像童年时期玩的动画小人书。</p>

<p><img src="/test/canvas_star/img/fsdg.gif" alt="翻书动画" /></p>

<p><span class="s">//连环画是很多张画布，canvas是只有一张画布，快速重复绘图-擦掉-绘图-擦的过程,此处仅仅是为了展示动画效果。<span></span></span></p>
<h3 id="三从基础开始">三、从基础开始</h3>
<p><code class="highlighter-rouge">&lt;canvas&gt;</code>是这个html属性是为客户端矢量图形而设计的，他自己本身没有画图能力，本身只提供一张画布，但他会把整个绘图API展现给javascript，让javascript在他的画布内创作出我们想要的图像。让我们来看看他提供了哪些API供我们绘图。</p>

<p><span class="s">//篇幅有限，仅展示一些常用API</span></p>

<p><strong>Rect(矩形左上角x坐标，矩形左上角y坐标，矩形宽度，矩形高度)</strong>  ：看名字就知道了，创建一个矩形，仅仅是创建了一个路径而已，所以看上去还是一张白纸哦。</p>

<p>html</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;canvas id="rect"&gt;&lt;/canvas&gt;
</code></pre>
</div>
<p>js</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('rect');
var content     = mycanvas.context();
content.Rect(0,0,100,50);
</code></pre>
</div>
<div>
<canvas id="rect" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('rect');
var content     = mycanvas.getContext('2d');
content.rect(0,0,100,50);
</script>
</div>

<p>看~白纸吧，所谓路径你可以想象成隐藏的线条，所以只要说到路径，就肯定是不可见的，要对路径有所动作才能让他显现出来。</p>

<p><strong>fillRect(矩形左上角x坐标，矩形左上角y坐标，矩形宽度，矩形高度)</strong>：看这个英文名称就知道了，充满-矩形，所以他的作用就是把我们绘制的矩形路径给填充填色，既然填充颜色了肯定就能看见了吧。</p>

<p>js</p>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('fillrect');
var content     = mycanvas.getContext('2d');
content.fillRect(0,0,200,100);
</code></pre>
</div>

<div>
<canvas id="fillrect" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('fillrect');
var content     = mycanvas.getContext('2d');
content.fillRect(0,0,200,100);
</script>
</div>
<p>这样我们就绘制填充了一个左上角坐标为（0，0），宽度200px, 高度100px，默认为黑色的矩形。</p>

<p><strong>strokeRect(矩形左上角x坐标，矩形左上角y坐标，矩形宽度，矩形高度)</strong>：这个方法跟<code class="highlighter-rouge">fillRect</code>对比记忆就可以了，<code class="highlighter-rouge">fillRect()</code>是为矩形填充颜色，充满整个矩形，<code class="highlighter-rouge">strokeRect()</code>就是为矩形画个框框，里面不填充。</p>

<p>js</p>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('strokerect');
var content     = mycanvas.getContext('2d');
content.strokeRect(0,0,200,100);
</code></pre>
</div>

<div>
<canvas id="strokerect" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('strokerect');
var content     = mycanvas.getContext('2d');
content.strokeRect(0,0,200,100);
</script>
</div>
<p><strong>clearRect(要清除的矩形左上角的 x 坐标，要清除的矩形左上角的 y 坐标，要清除的矩形的高度，要清除的矩形的高度)</strong>：前面都是绘制，填充矩形，这个方法是在指定的一个举行内扣除一个矩形。</p>

<p>js</p>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('clearrect');
var content     = mycanvas.getContext('2d');
content.fillRect(0,0,200,100);
content.clearRect(20,20,100,50);
</code></pre>
</div>
<div>
<canvas id="clearrect" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('clearrect');
var content     = mycanvas.getContext('2d');
content.fillRect(0,0,200,100);
content.clearRect(20,20,100,50);
</script>
</div>
<p>上面的四个方法都是作用于矩形的，下面让我们认识一些所有图形都通用的方法。</p>

<p><strong>fill()</strong>：这个字面意义就理解了，填充嘛，就是为所创建的路径填充颜色的。因为既然是填充，就应该是一个封闭的路径，所以说如果路径不封闭，fill()方法会从路径结束点到路径开始点之间添加一条线，以关闭该路径，再填充路径。</p>

<p>js</p>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('fill');
var content     = mycanvas.getContext('2d');
content.rect(0,0,200,100);//还记得第一个例子中rect()是创建一个路径对吧，路径是看不见的，我们用fill()给填充下就能看到矩形了。
content.fill(); 
</code></pre>
</div>

<div>
<canvas id="fill" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('fill');
var content     = mycanvas.getContext('2d');
content.rect(0,0,200,100);
content.fill();
</script>
</div>
<p><strong>beginPath()、closePath()、moveTo()、lineTo()</strong> ：这四个一起介绍。都是关于创建路径的。</p>

<p><strong>beginPath()</strong>：开始或者是重置当前路径。</p>

<p><strong>closePath()</strong>：创建从当前点到开始点的路径。</p>

<p><strong>moveTo(目标位置的x坐标，目标位置的y坐标)</strong>：把路径移动到画布中的指定点，不创建线条。</p>

<p><strong>lineTo(目标位置的x坐标，目标位置的y坐标)</strong>：该方法添加一个新的点，创建从该点到画布中最后指定点的路径。</p>

<p>因为都是关于路径的，还记得前面说过的，路径不可见，所以演示肯定就看不到效果，跟下一个要介绍的<code class="highlighter-rouge">stroke</code>方法一起演示才有效果。</p>

<p><strong>stroke()</strong>：此方法是实际的绘制出已经定义的路径，注意<code class="highlighter-rouge">实际</code>二字了吧，前面那写moveTo(),lineTo()创建的路径都是不可见的，此方法就是让那些不可见的路径浮出水面。很牛逼的赶脚。</p>

<p>js</p>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('four_canvas');
var content     = mycanvas.getContext('2d');
content.beginPath();
content.moveTo(20,20);//我把原点移动到了（20，20）
content.lineTo(20,100);//我创建了一个新的点
content.lineTo(50,100);//我创建了最后一个新的点
content.closePath();//那条斜边的路径就是我创建的
content.stroke();  //你们创建了那么多，没有我还不是看不到
</code></pre>
</div>
<div>
<canvas id="four_canvas" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('four_canvas');
var content     = mycanvas.getContext('2d');
content.beginPath();
content.moveTo(20,20);
content.lineTo(20,100);
content.lineTo(50,100);
content.closePath();
content.stroke();
</script>
</div>
<p><strong>arc(圆心的x坐标，圆心的y坐标，圆半径，起始角以弧度计，结束角以弧度计，可选顺时针绘图或者逆时针绘图)</strong> ：前面介绍了很多创建矩形路径的，这个方法是创建弧/曲线（圆或部分圆）的路径，如果要创建圆，请把起始角参数设置为0，结束角参数设置为2*Math.PI，起始角和结束角都以弧度记，<em>(人们规定360度为2PI，PI就是180度，用这样的方法换算就可以了)</em>，同样也是绘制的路径，要想可见，要配合<code class="highlighter-rouge">fill()</code>或者<code class="highlighter-rouge">stroke()</code>绘制实际的弧。</p>

<p>js</p>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('arc');
var content     = mycanvas.getContext('2d');
content.arc(100,80,50,0,2*Math.PI);
content.stroke();
</code></pre>
</div>
<div>
<canvas id="arc" width="600px" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('arc');
var content     = mycanvas.getContext('2d');

content.fillText("结束角2*Math.PI",50,20);
content.arc(100,80,50,0,2*Math.PI);
content.stroke();
content.beginPath();
content.arc(150,80,5,0,2*Math.PI);
content.fillStyle="red";
content.fill();
content.fillStyle="black";
content.beginPath();
content.fillText("结束角Math.PI",180,20);
content.arc(220,80,50,0,Math.PI);
content.stroke();
content.beginPath();
content.fillText("结束角Math.PI / 2",310,20);
content.arc(340,80,50,0,Math.PI/2);
content.stroke();
content.beginPath();
content.fillText("结束角Math.PI / 3",440,20);
content.arc(460,80,50,0,Math.PI/3);
content.stroke();
</script>
</div>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('arc_fill');
var content     = mycanvas.getContext('2d');
content.arc(100,80,50,0,2*Math.PI);
content.fill();
</code></pre>
</div>
<div>
<canvas id="arc_fill" width="600px" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('arc_fill');
var content     = mycanvas.getContext('2d');
content.fillText("结束角2*Math.PI",50,20);
content.arc(100,80,50,0,2*Math.PI);
content.fill();
content.beginPath();
content.arc(150,80,5,0,2*Math.PI);
content.fillStyle="red";
content.fill();
content.fillStyle="black";
content.beginPath();
content.fillText("结束角Math.PI",180,20);
content.arc(220,80,50,0,Math.PI);
content.fill();
content.beginPath();
content.fillText("结束角Math.PI / 2",310,20);
content.arc(340,80,50,0,Math.PI/2);
content.fill();
content.beginPath();
content.fillText("结束角Math.PI / 3",440,20);
content.arc(460,80,50,0,Math.PI/3);
content.fill();
</script>
</div>
<p>可以看出，绘制的起始角为0度的角是图中红色圆点，正好是钟表的3点时刻，方便记忆，绘制方向为顺时针。</p>

<p>上面介绍的方法都是在画布上画图形，或者线条的方法，也就是素描的样子，没有色彩，下面就介绍一些给画面添加颜色的属性和方法。给我们的画面上色。</p>

<p><strong>createLinearGradient(渐变开始点的 x 坐标，渐变开始点的 y 坐标，	渐变结束点的 x 坐标，渐变结束点的 y 坐标)，createRadialGradient(渐变开始点的 x 坐标，渐变开始点的 y 坐标，	渐变结束点的 x 坐标，渐变结束点的 y 坐标)</strong>：这两个方法都是创建渐变用的，<code class="highlighter-rouge">createLinearGradient()</code>是创建线性渐变，<code class="highlighter-rouge">createRadialGradient()</code>是创建放射性渐变，这两个方法必须和下一个<code class="highlighter-rouge">addColorStop()</code>方法和下下个fillStyle()或者strokeStyle()属性配合使用才能看到渐变色的效果。</p>

<p><strong>addColorStop(介于 0.0 与 1.0 之间的值，表示渐变中开始与结束之间的位置，在结束位置显示的 CSS 颜色值)</strong>：学习渐变的时候就说过，有渐变就一定要创建渐变的开始点和结束点，开始颜色和结束颜色，如果不对渐变（gradient）对象使用该方法，那么渐变将不可见，所以说为了渐变可见，我们需要创建至少一个色标。</p>

<p><strong>fillStyle(),strokeStyle()</strong> : 这两个属性是设置我们绘制图像要填充的颜色，渐变或者模式。现在我们创建了渐变<code class="highlighter-rouge">createLinearGradient()</code>,并且为渐变添加了色标<code class="highlighter-rouge">addColorStop()</code>,但是要在canvas绘制出一个渐变色的图形，要通过这个两个属性告诉canvas我们确定要用渐变绘图，他才能知道我们要使用渐变绘图。前面所有创建的黑色矩形或者是黑色圆圈，都是因为这个属性的默认值是#000000，语法为：<code class="highlighter-rouge">context.fillStyle=color|gradient|pattern</code></p>

<p>js</p>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('fillstyle');
var content     = mycanvas.getContext('2d');
content.fillStyle = "green";  //只用单色填充
content.fillRect(0,0,200,100);
</code></pre>
</div>
<div>
<canvas id="fillstyle" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('fillstyle');
var content     = mycanvas.getContext('2d');
content.fillStyle = "green"; 
content.fillRect(0,0,200,100);
</script>
</div>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('strokestyle');
var content     = mycanvas.getContext('2d');
content.strokeStyle = "green"; //只用单色绘制，可以理解为用绿色的铅笔画图
content.strokeRect(0,0,200,100);
</code></pre>
</div>
<div>
<canvas id="strokestyle" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('strokestyle');
var content     = mycanvas.getContext('2d');
content.strokeStyle = "green";
content.strokeRect(0,0,200,100);
</script>
</div>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('gradient');
var content     = mycanvas.getContext('2d');
var grd = content.createLinearGradient(0,0,170,0);
grd.addColorStop(0,"#8D0DA8");
grd.addColorStop(0.5,"#354FD7");
grd.addColorStop(1,"#40AB51");
content.fillStyle = grd;   //使用渐变色填充
content.fillRect(0,0,200,100);
</code></pre>
</div>
<div>
<canvas id="fillgradient" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('fillgradient');
var content     = mycanvas.getContext('2d');
var grd = content.createLinearGradient(0,0,170,0);
grd.addColorStop(0,"#8D0DA8");
grd.addColorStop(0.5,"#354FD7");
grd.addColorStop(1,"#40AB51");
content.fillStyle = grd;
content.fillRect(0,0,200,100);
</script>
</div>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('strokestyle');
var content     = mycanvas.getContext('2d');
var grd = content.createLinearGradient(0,0,170,0); //创建一个线性渐变，开始坐标为（0，0），结束坐标为（170，0）。
grd.addColorStop(0,"#8D0DA8");// 添加一个色标
grd.addColorStop(0.5,"#354FD7"); // 又一个色标
grd.addColorStop(1,"#40AB51");  //最后一个色标
content.strokeStyle = grd;  //使用渐变色绘制，可以理解为渐变色的画笔。
content.strokeRect(0,0,200,100);  //实际绘制
</code></pre>
</div>
<div>
<canvas id="strokegradient" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('strokegradient');
var content     = mycanvas.getContext('2d');
var grd = content.createLinearGradient(0,0,170,0);
grd.addColorStop(0,"#8D0DA8");
grd.addColorStop(0.7,"#354FD7");
grd.addColorStop(1,"#40AB51");
content.strokeStyle = grd;
content.strokeRect(0,0,200,100);
</script>
</div>
<p><strong>font</strong>：这个属性就理解成css中的font属性就可以，规定文字的字体，大小，粗细。语法为：	<code class="highlighter-rouge">context.font="italic small-caps bold 12px arial";</code></p>

<p><strong>fillText()，strokeText()</strong>：这两个方法就是用来在canvas绘制文字用的。</p>

<p>js</p>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('font');
var content     = mycanvas.getContext('2d');
content.font = "40px KaiTi";
content.fillText("我是canvas绘制出的文字",20,50);
</code></pre>
</div>
<div>
<canvas id="fillText" width="600px" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('fillText');
var content     = mycanvas.getContext('2d');
content.font = "40px KaiTi";
content.fillText("我是canvas绘制出的文字",20,50);
</script>
</div>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('font');
var content     = mycanvas.getContext('2d');
content.font = "40px KaiTi";
content.strokeText("我是canvas绘制出的文字",20,50);
</code></pre>
</div>
<div>
<canvas id="strokeText" width="600px" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('strokeText');
var content     = mycanvas.getContext('2d');
content.font = "40px KaiTi";
content.strokeText("我是canvas绘制出的文字",20,50);
</script>
</div>

<p>如果配合前面的<code class="highlighter-rouge">fillStyle()</code>,<code class="highlighter-rouge">strokeStyle()</code>填充样式和绘制样式，就能画出很漂亮的文字</p>

<p>js</p>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('textstyle');
var content     = mycanvas.getContext('2d');
var grd           = content.createLinearGradient(0,0,mycanvas.width,0);
grd.addColorStop(0,'#8919B7');
grd.addColorStop("0.5","blue");
grd.addColorStop("1.0","red");
content.font = "40px KaiTi";
content.fillStyle  = grd;
content.fillText("我是canvas绘制出的文字",20,50);
</code></pre>
</div>
<div>
<canvas id="textstyle" width="600px" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('textstyle');
var content     = mycanvas.getContext('2d');
var grd           = content.createLinearGradient(0,0,mycanvas.width,0);
grd.addColorStop(0,'#8919B7');
grd.addColorStop("0.5","blue");
grd.addColorStop("1.0","red");
content.font = "40px KaiTi";
content.fillStyle  = grd;
content.fillText("我是canvas绘制出的文字",20,50);
</script>
</div>
<div class="highlighter-rouge"><pre class="highlight"><code>var mycanvas = document.getElementById('textstyle2');
var content     = mycanvas.getContext('2d');
var grd           = content.createLinearGradient(0,0,mycanvas.width,0);
grd.addColorStop(0,'#8919B7');
grd.addColorStop("0.5","blue");
grd.addColorStop("1.0","red");
content.font = "40px KaiTi";
content.strokeStyle  = grd;
content.strokeText("我是canvas绘制出的文字",20,50);
</code></pre>
</div>
<div>
<canvas id="textstyle2" width="600px" style="border:1px solid #d3d3d3;"></canvas>
<script>
var mycanvas = document.getElementById('textstyle2');
var content     = mycanvas.getContext('2d');
var grd           = content.createLinearGradient(0,0,mycanvas.width,0);
grd.addColorStop(0,'#8919B7');
grd.addColorStop("0.5","blue");
grd.addColorStop("1.0","red");
content.font = "40px KaiTi";
content.strokeStyle  = grd;
content.strokeText("我是canvas绘制出的文字",20,50);
</script>
</div>
<p>这个效果很赞吧，想象一下，空心的文字渐变效果如果用别的方法实现怎么实现呢？我目前真的想不到别的办法了，平时的渐变属性应用实体文字是有效果的，空心的可就无能为力，是不是深深的感觉到canvas的强大，除此之外，canvas还能绘制图片，视频，简直不能再牛逼了，剩下的一些API就不展示了，留到以后折腾出好玩的东西再单独举例展示，去撒个尿~~
回来继续。</p>

<h3 id="四漫天繁星终于到了">四、漫天繁星终于到了</h3>
<p>梳理了一下基础知识，毕竟要灵活运用，基础是最重要的，地基搭不好，楼房盖不起来，盖起来也是危房。下面就是我们的漫天繁星的效果了，先来看下demo。<a href="/test/canvas_star/rect_star.html" target="_blank">漫天繁星</a></p>

<p>整体思路：</p>

<p>1.准备一张画布.</p>

<p>2.绘制位置，透明度随机的星星。</p>

<p>3.改变星星位置和透明度的draw方法。</p>

<p>4.画布不停的清除-绘制。</p>

<p>难点在于：越靠近屏幕上面天空越黑，星星越稠密，反之，余晖附近，星星很少。</p>

<p>html</p>
<div class="highlighter-rouge"><pre class="highlight"><code>&lt;canvas id="mycanvas" class="mycanvas"&gt;&lt;/canvas&gt;
</code></pre>
</div>
<p>css</p>
<div class="highlighter-rouge"><pre class="highlight"><code>body{
	background: url(img/area.jpg) no-repeat;
	background-color: #000;
	background-size:cover;
}
.mycanvas{
	position: absolute;
	width: 1920px;
	height: 800px;
	left: 50%;
	margin-left: -960px;
}
</code></pre>
</div>

<p>必要的js</p>
<div class="highlighter-rouge"><pre class="highlight"><code>var getMinRandom = function(){   //此函数大概率返回一个数值较大的值。因此就有了越往上越稠密的分布。
		var rand = Math.random();
		//step的大小决定了往上的聚拢程度。
		var step = Math.ceil(1 / (1 - rand));
		var arr  = [];
		for(var i = 0 ; i &lt;step; i++){
			arr.push(Math.random());
		}
		return Math.max.apply(null,arr);
	};
</code></pre>
</div>

<p>其他详细js代码就不贴了，如果有需要的话直接在demo中右键查看吧。</p>

<h3 id="结语">结语</h3>
<p>此demo中部分代码参考了张鑫旭前辈博客中的一篇文章，主要想借机梳理和练习一下有关canvas的知识</p>

<p>貌似一会儿要下大雨，得赶紧下班回家，嗯 ，就这样。</p>

   
            </div>
            
          </div>
          
                <div class="next_page_box">
                  <div class="read_next">阅读下一篇文章</div>
                  <div class="next_page">
                    <a class="" href="http://localhost:4000/tec/2016/10/10/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%AF%E4%BB%98%E6%8E%A5%E5%8F%A3%E5%AF%B9%E6%8E%A5.html" data-post-href="http://localhost:4000/tec/2016/10/10/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%AF%E4%BB%98%E6%8E%A5%E5%8F%A3%E5%AF%B9%E6%8E%A5.html">
                      <h4>支付宝支付接口对接的那些事</h4>
                      <div></div>
                    </a>
                  </div>
                </div>
          
       </div>
    </div>
  </body>
<script src="/source/js/highlight.min.js"></script>
<script type="text/javascript" src="/source/js/jquery.js"></script>
<script type="text/javascript" src="/source/js/TweenMax.min.js"></script>
<script type="text/javascript" src="/source/js/DrawSVGPlugin.min.js"></script>
<script type="text/javascript" src="/source/js/tween.js"></script>
<script type="text/javascript" src="/source/js/animation.js"></script>
  <script type="text/javascript" src="/source/js/index.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
    $(document).ready(function(){
      //评论
        $('.comments').on('click',function(e){
          e.preventDefault();
          $('#lv-container').show();
        });
    })
  </script>
</html>