<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
    <link rel="stylesheet" href="/source/css/index.css" type="text/css">
    <link rel="stylesheet" href="/source/css/post_last.css" type="text/css">
    <link rel="stylesheet" href="/source/css/obsidian.min.css">
<!--     <link rel="stylesheet" type="text/css" href="/source/css/nav.css"> -->
    <link rel="stylesheet" type="text/css" href="/source/css/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>摆渡先生</title>
   <!-- <link rel="stylesheet" href="/css/highlight.css" type="text/css">-->
</head>

 <body>
 <div class="nav_box" style="z-index: 10000">
<nav class="nav">
	<ul class="nav__list">
		<li class="nav__item">
			<a class="nav__link" href="/">
				<div class="nav__link-content">
					<span class="nav__link-num">01</span>
					<div class="nav__link-title">Works</div>
					<div class="nav__link-desc">What I'm made</div>
				</div>
				<div class="nav__link-base"></div>
			</a>
			<div class="nav__item-line"></div>
		</li>
		<li class="nav__item">
			<a class="nav__link" href="/new">
				<div class="nav__link-content">
					<span class="nav__link-num">02</span>
					<div class="nav__link-title">News</div>
					<div class="nav__link-desc">Latest ramblings</div>
				</div>
				<div class="nav__link-base"></div>
			</a>
			<div class="nav__item-line"></div>
		</li>
		<li class="nav__item">
			<a class="nav__link" href="/book">
				<div class="nav__link-content">
					<span class="nav__link-num">03</span>
					<div class="nav__link-title">Books</div>
					<div class="nav__link-desc">Many good books</div>
				</div>
				<div class="nav__link-base"></div>
			</a>
			<div class="nav__item-line"></div>
		</li>
		<li class="nav__item">
			<a class="nav__link" href="/contact">
				<div class="nav__link-content">
					<span class="nav__link-num">04</span>
					<div class="nav__link-title">Contact</div>
					<div class="nav__link-desc">Don't be shy</div>
				</div>
				<div class="nav__link-base"></div>
			</a>
			<div class="nav__item-line"></div>
		</li>
        <li class="phone_btn_close nav__item">
            x
        </li>
	</ul>
  <div class="header_logo">
    <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 825 299" style="enable-background:new 0 0 825 299;" xml:space="preserve">
<g class="logo_baidu">
  <path class="st0 logo_baidu_letter" fill="#fff" d="M132.94,183.58c-5.84,0.73-10.94,1.46-15.31,2.19c-2.19,0.73-4.02,0-5.47-2.19c0-5.1,1.82-8.02,5.47-8.75
    c3.64,0.73,8.75,1.09,15.31,1.09c0-5.1-0.37-10.2-1.09-15.31c0-2.91,1.09-4.38,3.28-4.38c7.29,0.73,10.57,3.65,9.84,8.75
    c-0.73,2.92-1.09,6.56-1.09,10.94h8.75c2.91,0.73,4.38,2.19,4.38,4.38c-2.19,1.46-6.56,2.19-13.13,2.19v9.84
    c7.29-1.45,11.3-1.45,12.03,0c0.73,2.19-3.28,4.74-12.03,7.66c0,11.67,0.36,21.52,1.09,29.53c0.73,5.84-1.46,10.21-6.56,13.13
    c-4.38,2.19-10.94,1.83-19.69-1.09c-7.3-3.64-11.3-7.29-12.03-10.94c17.5,4.38,26.25,3.65,26.25-2.19c0.73-9.48,0.73-17.86,0-25.16
    c-8.75,2.92-14.95,4.74-18.59,5.47c-2.92,0-4.74-1.45-5.47-4.38c-0.73-3.64,0.73-5.83,4.38-6.56c5.1-0.73,11.66-1.82,19.69-3.28
    V183.58z M217.16,162.8c3.64,0.73,5.47,3.28,5.47,7.66c-1.46,5.84-2.19,11.67-2.19,17.5c-0.73,3.65-2.92,5.11-6.56,4.38
    c-6.56-1.45-12.77-2.19-18.59-2.19c-0.73,2.19-0.73,4.38,0,6.56h14.22c3.64,0,5.83,0.73,6.56,2.19c0.73,2.92-1.09,4.38-5.47,4.38
    h-15.31c-0.73,2.19-0.73,4.38,0,6.56c15.31,0.73,28.8,0.73,40.47,0c-5.11,10.94-12.4,14.22-21.88,9.84
    c-6.56-2.19-13.13-3.28-19.69-3.28l-5.47,6.56c-2.92,2.92-5.11,5.47-6.56,7.66c3.64,2.92,7.66,4.02,12.03,3.28
    c5.1-1.45,8.38-3.28,9.84-5.47c-1.46-0.73-3.28-1.82-5.47-3.28c0.73-3.64,2.55-5.47,5.47-5.47c2.91-0.73,6.2,0.73,9.84,4.38
    c5.1,4.38,8.75,8.39,10.94,12.03c2.19,4.38,0.73,5.84-4.38,4.38c-3.65-2.91-7.66-5.83-12.03-8.75c-5.11,7.3-11.3,10.58-18.59,9.84
    c-8.02-3.64-13.13-5.1-15.31-4.38c-2.92,0.73-5.84,1.83-8.75,3.28c-2.92,0.73-5.11-0.36-6.56-3.28c-0.73-2.19,0-4.01,2.19-5.47
    c2.91-2.19,5.83-4.01,8.75-5.47c6.56-3.64,10.57-6.92,12.03-9.84c-14.59,0.73-24.06,1.83-28.44,3.28
    c-3.65,0.73-5.11-0.73-4.38-4.38c1.45-3.64,3.28-5.83,5.47-6.56c6.56,1.46,15.67,1.83,27.34,1.09c0.73-2.19,0.73-4.38,0-6.56
    c-7.3,0-13.49,0.37-18.59,1.09c-3.65,0.73-4.74-1.09-3.28-5.47c1.45-1.45,3.64-2.55,6.56-3.28c5.1,0.73,10.2,1.09,15.31,1.09
    c0.73-2.19,0.73-4.38,0-6.56c-6.56,0-11.67,0.73-15.31,2.19c-3.65,1.46-5.84,0.37-6.56-3.28c-0.73-8.75-1.46-15.67-2.19-20.78
    c0-4.38,2.55-6.2,7.66-5.47C181.8,164.99,198.93,164.99,217.16,162.8z M167.94,170.46c-0.73,2.92-0.73,7.3,0,13.13
    c3.64,1.46,6.56,1.46,8.75,0c0.73-4.38,0.73-8.75,0-13.13C174.51,169.73,171.58,169.73,167.94,170.46z M184.35,183.58
    c3.64,0.73,6.56,0.73,8.75,0c0.73-5.1,0.73-9.48,0-13.13c-2.92-0.73-5.84-0.73-8.75,0C183.62,175.57,183.62,179.94,184.35,183.58z
     M200.76,170.46c-0.73,3.65-0.73,8.02,0,13.13c4.38,1.46,7.66,1.46,9.84,0c2.19-3.64,2.55-8.02,1.09-13.13
    C208.05,169.73,204.4,169.73,200.76,170.46z"/>
  <path class="st0 logo_baidu_letter" fill="#fff" d="M255.44,189.05c8.75,2.92,17.5,5.11,26.25,6.56c1.45,0.73,1.45,1.83,0,3.28c-5.84,2.19-11.3,3.28-16.41,3.28
    c-7.3,0.73-13.13,0-17.5-2.19c-2.92-2.19-2.92-5.1,0-8.75C249.98,189.05,252.52,188.33,255.44,189.05z M255.44,216.4
    c8.75-1.45,17.5-4.01,26.25-7.66c1.45-0.73,2.55-0.73,3.28,0c-2.19,4.38-5.11,8.02-8.75,10.94c-4.38,3.65-10.94,6.93-19.69,9.84
    c-2.92,0-5.11-1.82-6.56-5.47C249.24,219.68,251.07,217.13,255.44,216.4z M262.01,166.08c7.29,5.11,14.95,9.48,22.97,13.13
    c-0.73,1.46-4.38,2.19-10.94,2.19s-12.77-1.45-18.59-4.38c-2.19-1.45-2.92-3.28-2.19-5.47
    C254.71,167.18,257.63,165.36,262.01,166.08z M313.41,186.87c-4.38-0.73-8.39-0.36-12.03,1.09c0,5.84-0.73,13.13-2.19,21.88
    c-0.73,4.38-2.19,8.39-4.38,12.03c-2.19,3.65-4.38,6.56-6.56,8.75c-5.11,4.38-9.48,6.93-13.13,7.66c-2.92,0-5.47-0.36-7.66-1.09
    c-1.46-1.45-2.55-2.55-3.28-3.28c2.91-2.19,6.2-4.01,9.84-5.47c3.64-2.19,6.92-5.1,9.84-8.75c2.19-3.64,4.01-7.29,5.47-10.94
    c1.45-5.83,2.19-11.3,2.19-16.41c0.73-8.75-0.37-16.04-3.28-21.88c0-4.38,2.19-6.56,6.56-6.56c4.38,1.46,12.39,2.19,24.06,2.19
    v-6.56c1.45-2.91,4.38-4.01,8.75-3.28c2.19,0.73,4.01,1.83,5.47,3.28v6.56h20.78c6.56,0,9.84,1.46,9.84,4.38
    c-1.46,1.46-7.66,2.19-18.59,2.19c-1.46,2.92-1.46,5.47,0,7.66h8.75c5.83,0,8.75,1.09,8.75,3.28s-1.09,3.28-3.28,3.28h-14.22
    c-0.73,3.65-0.73,6.93,0,9.84c0.73,3.65-1.09,5.11-5.47,4.38c-2.92-1.45-5.84-2.55-8.75-3.28c-2.19,0-4.38,0-6.56,0
    c-2.19,0.73-4.02,1.46-5.47,2.19c-3.65,0.73-5.47-0.36-5.47-3.28C314.14,192.33,314.14,189.05,313.41,186.87z M314.51,202.18
    c2.19,0.73,4.38,1.09,6.56,1.09c7.29-0.73,14.95-0.36,22.97,1.09c5.1,1.46,6.92,4.02,5.47,7.66c-2.19,2.92-5.11,6.93-8.75,12.03
    c16.04,5.11,28.07,7.66,36.09,7.66c-7.3,10.94-14.59,14.58-21.88,10.94c-6.56-4.38-13.49-8.75-20.78-13.13
    c-9.48,5.11-17.87,8.75-25.16,10.94c-6.56,1.46-10.58-0.73-12.03-6.56c0.73-0.73,4.73-1.82,12.03-3.28
    c8.02-1.45,14.22-3.64,18.59-6.56c-4.38-2.91-8.39-5.47-12.03-7.66c0-3.64,1.82-5.1,5.47-4.38c3.64,2.19,7.66,4.74,12.03,7.66
    c2.91-2.19,4.73-4.73,5.47-7.66c0.73-2.19-0.73-3.28-4.38-3.28c-6.56,0-12.77,0.37-18.59,1.09c-3.65,2.19-5.84,2.19-6.56,0
    C309.76,205.46,311.58,202.91,314.51,202.18z M313.41,172.65c-3.65-0.73-8.02-0.73-13.13,0c-0.73,2.92-0.73,5.47,0,7.66
    c4.38,0.73,8.75,0.73,13.13,0C314.14,177.39,314.14,174.83,313.41,172.65z M322.16,172.65c-0.73,2.92-0.73,5.47,0,7.66
    c5.1,0.73,9.48,0.73,13.13,0c0.73-2.91,0.73-5.47,0-7.66C330.91,171.92,326.54,171.92,322.16,172.65z M336.38,186.87
    c-4.38-0.73-9.12-0.73-14.22,0c0,1.46,0,3.28,0,5.47c4.38,0.73,8.38,0.73,12.03,0C336.38,192.33,337.11,190.51,336.38,186.87z"/>
</g>
<polyline class="st1 logo_baidu_border" points="409.5,179.35 409.5,261 81.5,261 81.5,140 367.18,140 " fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="16"/>
<g class="logo__plus" fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="16">
  <line class="st1 logo__plus-horz" x1="382.5" y1="140.5" x2="436.5" y2="140.5"/>
  <!-- <path class="st1" d="M411.5,117.5"/> -->
  <line class="st1 logo__plus-vert" x1="409.5" y1="167.5" x2="409.5" y2="113.5"/>
</g>
<g class="logo__xiansheng">
  <path class="st2 logo_xiansheng_letter" fill="#fff" d="M484.78,60.65c-5.11,3.65-9.12,5.47-12.03,5.47c-4.38,0-5.47-1.09-3.28-3.28c5.1-2.91,8.75-8.02,10.94-15.31
    c1.45-6.56,3.64-9.48,6.56-8.75c2.91,0,4.73,1.46,5.47,4.38c0,3.65-1.09,6.56-3.28,8.75h16.41V39.87c0-4.38,1.82-6.92,5.47-7.66
    c6.56,0,9.84,2.92,9.84,8.75V51.9h25.16c4.38,0,6.2,1.83,5.47,5.47c-0.73,2.19-2.19,3.28-4.38,3.28h-26.25v8.75
    c10.94,0,22.6,0.37,35,1.09c2.91,0,4.73,1.09,5.47,3.28c0.73,4.38-1.83,6.56-7.66,6.56c-10.21-0.73-19.69-1.09-28.44-1.09v10.94
    c0,8.02,6.56,12.03,19.69,12.03c14.58,0.73,26.25-1.45,35-6.56c-2.92,10.94-6.2,17.5-9.84,19.69c-7.3,5.11-17.87,5.84-31.72,2.19
    c-5.11-1.45-9.48-3.28-13.13-5.47c-7.3-4.38-11.3-10.57-12.03-18.59V79.24h-6.56c-0.73,4.38-2.55,9.48-5.47,15.31
    c-6.56,9.48-14.22,16.05-22.97,19.69c-7.3,2.92-14.59,3.65-21.88,2.19c-6.56-2.91-8.75-5.83-6.56-8.75
    c24.79-0.73,40.1-10.2,45.94-28.44c-5.84-0.73-13.49,0-22.97,2.19c-7.3,2.19-10.58,0.73-9.84-4.38c3.64-5.83,6.92-8.38,9.84-7.66
    c8.02,1.46,18.95,1.46,32.81,0v-8.75H484.78z"/>

  <path class="st3 logo_xiansheng_letter" fill="#fff" d="M645.29,63.43c-6.56-0.73-14.22-0.73-22.97,0c-2.92,3.65-7.3,6.93-13.13,9.84c-2.92,0.73-4.02,0-3.28-2.19
    c5.83-6.56,9.84-13.48,12.03-20.78c2.19-8.75,6.2-12.03,12.03-9.84c4.38,2.92,3.64,8.02-2.19,15.31h17.5
    c0.73-6.56,0.73-12.39,0-17.5c0-4.38,2.19-6.92,6.56-7.66c5.83,0,8.75,2.55,8.75,7.66c0,8.75,0.36,14.59,1.09,17.5h22.97
    c8.02-0.73,12.03,0.73,12.03,4.38c2.19,3.65-9.48,4.74-35,3.28c-1.46,3.65-1.46,7.3,0,10.94l21.88,1.09c2.91,0,6.2,0.73,9.84,2.19
    c1.45,2.92,1.09,4.74-1.09,5.47c-8.75-0.73-18.23-0.73-28.44,0c-2.19,0-3.28,3.65-3.28,10.94c0.73,6.56,16.04,8.02,45.94,4.38
    c3.64,0,8.02-0.73,13.13-2.19c-3.65,16.77-12.03,22.97-25.16,18.59c-22.61-8.02-48.13-10.2-76.56-6.56
    c-10.94,2.19-17.87,3.65-20.78,4.38c-5.84,1.46-8.02-0.36-6.56-5.47c2.91-5.83,6.92-9.48,12.03-10.94
    c2.91-0.73,7.29-0.36,13.13,1.09c18.95,2.19,28.8,1.46,29.53-2.19c1.45-8.02,0-12.03-4.38-12.03c-7.3-0.73-14.22,0-20.78,2.19
    c-4.38,1.46-5.84-0.36-4.38-5.47c0.73-2.19,2.91-4.38,6.56-6.56c2.91-1.45,5.83-1.09,8.75,1.09c5.83,0.73,10.2,0.73,13.13,0
    C646.38,72.91,646.74,69.27,645.29,63.43z"/>
</g>
<polyline class="st1 logo_xiansheng_border" points="409.5,101.65 409.5,20 737.5,20 737.5,141 451.82,141 " fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="16"/>
</svg>
  </div>
</nav>
<svg class="nav__bg" width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <linearGradient class="nav__grad" x1="92.6356902%" y1="7.36430977%" x2="0%" y2="100%" id="nav-grad">
            <!-- <stop stop-color="#000000" offset="20%"></stop>
            <stop stop-color="#223e36" offset="100%"></stop> -->
            <!-- <stop stop-color="#43C6AC" offset="20%"></stop>
            <stop stop-color="#191654" offset="100%"></stop> -->
            <stop stop-color="#00dbde" offset="20%"></stop>
            <stop stop-color="#fc00ff" offset="100%"></stop>
        </linearGradient>
		<mask id="nav__bg-mask" class="nav__bg-mask" maskUnits="userSpaceOnUse"x="0" y="0" width="100" height="100">
		  	<rect class="nav__bg-mask-rect" x="0" y="0" width="25" height="100" fill="white"/>
			<rect class="nav__bg-mask-rect" x="24.9" y="0" width="25.1" height="100" fill="white"/>
			<rect class="nav__bg-mask-rect" x="49.9" y="0" width="25.1" height="100" fill="white"/>
			<rect class="nav__bg-mask-rect" x="74.9" y="0" width="25.1" height="100" fill="white"/>
		</mask>
    </defs>
    <rect x="0" y="0" width="100" height="100" fill="url(#nav-grad)" mask="url(#nav__bg-mask)"></rect>
</svg>
 <!--pc_menu_btn--> 
<button class="nav-btn">
  <svg class="burger <?php echo $darkBurgerClass; ?>" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">
  <rect class="burger__stroke"  x="2" y="2" width="32" height="32" fill="none" stroke="" stroke-miterlimit="10" stroke-width="4"/>
  <polyline class="burger__stroke-over"points="18 2 34 2 34 34 2 34 2 2 18 2" fill="none" stroke="" stroke-miterlimit="10" stroke-width="4"/>
  <g class="burger__plus">
    <rect class="burger__plus-left" x="8" y="16" width="10" height="4"/>
    <rect class="burger__plus-btm" x="16" y="18" width="4" height="10"/>
    <rect class="burger__plus-right" x="18" y="16" width="10" height="4"/>
    <rect class="burger__plus-top" x="16" y="8" width="4" height="10"/>
  </g>
  </svg>
</button>
</div>

   <div class="content_container">
      <div class="common_box">
        <div class="slide_img" id="slide_img_1"><div class="slide_img_shade"></div></div>
        <div class="title_box">
          <h2 class="main_title"><span>WORKS</span></h2>
        </div> 
      </div>
      <div class="content_box">
          <div class="content_content" >
            <div class="post_content">
                <div class="content_title">
                  <h1>对象的扩展</h1><span id="busuanzi_container_page_pv">
                  <span><time datetime=""></time></span>
                </div>
                  <h3 id="section">一、属性的简洁表示法</h3>
<p>ES6允许直接写入变量和函数，作为对象的属性和方法。这样的书写更加简洁。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let name = 'tx';
//es6
let obj = {name};
console.log(obj); //{name: "tx"}
//等同于es5
let obj = {name:name};
console.log(obj); //{name: "tx"}
</code></pre>
</div>
<p>上面的代码说明，ES6允许在对象之中，直接写变量。这时，属性名为变量名，属性值为变量的值。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>function func(x,y){
	return {x,y}
}
func('tx',28);  //{x: "tx", y: 28}
//相当于
function func2(x,y){
	return {
		x:x,
		y:y
	};
}
</code></pre>
</div>
<p>除了属性简写，方法也可以简写。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>const obj = {
	name:'tx',
	getName() {
		console.log(this.name);
	}
};
obj.getName(); //tx
//等同于
const obj = {
	name:'tx',
	getName:function(){
		console.log(this.name);
	}
};
</code></pre>
</div>
<p>下面是一个实际的例子。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let age = 25;
const obj = {
	name:'tx',
	age,
	getName (){ console.log('我的年龄是：' + this.age) ;}
};
obj.getName(); //我的年龄是：25
</code></pre>
</div>
<p>这种写法用于函数的返回值，将会非常方便。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>function func(){
	let x = 1;
	let y = 2;
	return {x,y};
}
func(); //{x: 1, y: 2}
</code></pre>
</div>
<p>CommonJS模块输出一组变量，就非常合适使用简洁写法。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let obj = {};
function getItem(key){
	return key in obj ? obj[key] : null;
}

function setItem(key,value){
	obj[key] = value;
}
function clear(){
	obj  = {};
}

module.exports = { getItem, setItem, clear };
//等同于
module.exports = {
	getItem : getItem,
	setItem : setItem,
	clear   : clear
};
</code></pre>
</div>
<p>注意：简洁写法的属性名总是字符串，这会导致一些看上去比较奇怪的结果。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let obj = {
	class (){}
};
//相当于
let obj = {
	'class':function(){}
}
</code></pre>
</div>
<p>上面代码中，class是字符串，所以不会因为他是关键字，而导致语法解析报错。</p>

<p>如果某个方法的值是一个Generator 函数，前面需要加上*号。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>const obj = {
  * m() {
    yield 'hello world';
  }
};
</code></pre>
</div>
<p>【】Generator 函数</p>

<h3 id="section-1">二、属性名表达式</h3>
<p>js定义对象的属性，有两种方法。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>//第一种
obj.name = 'tx';
//第二种
obj['na' + 'me'] = 'jl';
</code></pre>
</div>
<p>第一种方法是直接用标识符作为属性名，方法二是用表达式作为属性名，这时要将表达式放在括号之内。</p>

<p>但是如果使用字面量方式定义对象（使用大括号），在ES5中只能使用标识符定义属性。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let obj = {
	foo: true,
	abc:123
};
</code></pre>
</div>
<p>ES6允许字面量定义对象时，用表达式作为对象的属性名，即把表达式放在放括号内。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let key = 'foo';

let obj = {
	[key] : true,
	['a' + 'bc'] : 123
};
console.log(obj.foo);  //true
console.log(obj.abc);  //123
console.log(obj.key);  //undefined
</code></pre>
</div>
<p>下面是另外一个例子</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let lastword = 'last word';
let obj = {
	'first word' : 'hello',
	[lastword]   : 'world'
};
console.log(obj['first word']);  //hello
console.log(obj['last word']);   //world
console.log(obj[lastword]);  	 //world
</code></pre>
</div>
<p>表达式还可以用于定于方法名。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let obj = {
	['get'+'Hi'](){
		return 'hi';
	}
};
obj.getHi(); //hi
</code></pre>
</div>
<p>注意：属性名表达式与简洁表示法不能同时使用，会报错。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>//报错
const foo = 'bar';
const baz = { [foo] };

//不报错
const foo = 'bar';
const baz = { [foo] : 'abc' };
</code></pre>
</div>
<p>注意：属性名表达式如果是一个对象，默认情况下会自动将对象转为字符串【object ， Object】,这一点要特别小心。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let keyA = {a:1};
let keyB = {b:2};

let obj = {
	[keyA] :  'A',
	[keyB] :  'B'
};
console.log(obj); //{[object Object]: "B"}
</code></pre>
</div>
<p>上面代码中，【keyA】和【keyB】得到的都是【object ，Object】，所以【keyB】会把【keyA】覆盖掉，所以obj最后只有一个【object ， Object】属性，【object ， Object】的值为B。</p>

<h3 id="name">三、方法的name属性</h3>
<p>函数的name属性，返回函数名。对象的方法也是函数，因此也有name属性。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let obj = {
	getName (){
		return this.name;
	}
};
console.log(obj.getName.name); //getName
</code></pre>
</div>
<p>上面代码中，方法的name属性返回方法名。</p>

<p>有两种特殊情况：bind方法创造的函数，name属性返回bound加原函数的名字，Funciton构造函数创造的函数，name属性返回anonymous。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>var fun = function(){
	
};
console.log(fun.bind().name); //bound fun

var func = new Function();
console.log(func.name); //anonymous
</code></pre>
</div>
<p>如果对象的方法是一个Symbol值，那么name属性返回的是这个Symbol值的描述。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>const key1 = Symbol("this is a Symblo");
const key2 = Symbol("");
let obj = {
	[key1](){},
	[key2](){}
};
console.log(obj[key1].name); //[this is a Symblo]
console.log(obj[key2].name); //[]
</code></pre>
</div>
<p>上面代码中，key1对应Symbol值有描述，key2没有。 【】 Symbol还没有学到。</p>

<h3 id="section-2">四、属性的可枚举性和遍历</h3>

<h4 id="section-3">可枚举性</h4>
<p>对象的每一个属性都有一个描述对象（Descriptor），用来控制该属性的行为。Object.getOwnPropertyDescriptor方法可以获取该属性的描述对象。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let obj = {
	name:'tianxin'
};
console.log(Object.getOwnPropertyDescriptor(obj,'name'));
 // {
 // 	value: "tianxin", 
 // 	writable: true, 
 // 	enumerable: true, 
 // 	configurable: true
 // }
</code></pre>
</div>
<p>上面描述对象中的enumerable字段，称为”可枚举性”，如果该属性为false，就表示某些操作会忽略当前属性。</p>

<p>目前，有四个操作会忽略enumerable为false的属性。</p>
<h5 id="forin">- for…in循环：只遍历对象自身的和继承的可枚举的属性。</h5>
<h5 id="objectkey-">- Object.key(): 返回对象自身的所有可枚举的属性的键名。</h5>
<h5 id="jsonstringify--">- JSON.stringify() : 只将对象的自身可枚举属性转化为字符串。</h5>
<h5 id="objectassign--enumerablefalse">- Object.assign() : 忽略enumerable为false的属性，只拷贝对象自身的可枚举属性。</h5>

<p>这四个操作中，前三个是es5就有的，最后一个Object.assign是es6新增的。其中，只有for…in会返回继承的的属性，其他三个方法都会忽略继承的属性，只处理对象自身的属性。实际上引入”可枚举”(enumerable)这个概念的最初目的，就是让某些属性可以规避掉for…in操作，不然所有内部属性和方法都会都遍历到。 例如  ， 对象原型的toString方法，以及数组的length属性，就通过”可枚举性”，从而避免被for…in循环到。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>Object.getOwnPropertyDescriptor(Object.prototype, 'toString').enumerable
// false

Object.getOwnPropertyDescriptor([], 'length').enumerable
// false
</code></pre>
</div>
<p>上面代码中，toString()方法和length属性的enumerable都是false，因此for…in不会遍历到这两个继承自原型的方法和属性。</p>

<p>另外，es6规定，所有Class的原型的方法都是不可枚举的。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>Object.getOwnPropertyDescriptor(class {foo() {}}.prototype, 'foo').enumerable
// false
</code></pre>
</div>
<p>总的来说，操作中引入继承的属性会让问题复杂化，大多数时候，我们只关心对象自身的属性，所有尽量不用for…in循环，而用Object.keys()代替。</p>
<h4 id="section-4">属性的遍历</h4>

<h5 id="forin-1">（1）for…in</h5>
<p>for…in循环遍历对象自身和继承的可枚举属性（不含Symbol属性）。</p>
<h5 id="objectkeysobj">（2）Object.keys(obj)</h5>
<p>Object.keys(obj)返回一个数组，包括对象自身的（不含继承的）所有可枚举属性（不含Symbol属性）的键名。</p>
<h5 id="objectgetownpropertynamesobj">（3）Object.getOwnPropertyNames(obj)</h5>
<p>Object.getOwnPropertyNames(obj)也是返回一个数组，包含对象自身的所有属性。（*不含Symbol属性，但是包含不可枚举属性，注：可用defineProperty为对象定义不可枚举属性）的键名。</p>
<h5 id="objectgetownpropertysymbolsobj">（4）Object.getOwnPropertySymbols(obj)</h5>
<p>Object.getOwnPropertySymbols(obj) 返回一个数组，包含对象自身的所有Symbol属性的键名。</p>
<h5 id="reflectownkeysobj">（5）Reflect.ownKeys(obj)</h5>
<p>Reflect.ownKeys(obj) 返回一个数组，包含对象自身的所有键名，不管键名是Symbol或者是字符串，也不管是否可枚举。</p>

<p>以上的5种方法遍历对象的键名，都遵守同样的属性遍历的次序规则。</p>

<p>–首先遍历所有数值键，按照数值升序排列。
–其次遍历所有字符串键，按照加入时间升序排列。
–最后遍历所有Symbol键，按照加入时间升序排列。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let obj = {
name : 'tx',
age  : 24,
1:'1',
2:'2',
[Symbol()]:0
};
console.log(Reflect.ownKeys(obj));
//["1", "2", "name", "age", Symbol()]
</code></pre>
</div>
<p>上面代码中，Reflect.ownKeys方法返回一个数组，包含了对象的所有属性。这个数组的属性次序是这样的，首先是数值属性1和2，然后是字符串属性name和age，最后是Symbol属性。</p>
<h3 id="super">五、super关键字</h3>
<p>this关键字总是指向函数所在的当前对象，es6又增加了一个类似的关键字super，指向当前对象的原型对象。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>const obj = {
name : 'tx',
find (){
return super.name;
}
};
const proto = {
name : 'proto_name'
};
Object.setPrototypeOf(obj,proto);
console.log(obj.find()); //proto_name
</code></pre>
</div>
<p>上面代码中，通过super关键字找到了obj对象的原型对象proto上面的name属性。
备注：Object.setPrototypeOf()：讲一个指定的对象的原型设置为另一个对象或者null。</p>

<p>注意：super关键字表示原型对象时，只能用在对象的方法之中，用在其他地方都会报错。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let obj = {
foo : super.name      //'super' keyword unexpected here
};
let obj = {
foo: () =&gt; super.name //'super' keyword unexpected here
};
let obj = {
foo: function(){
return super.name;//'super' keyword unexpected here
}
};
</code></pre>
</div>
<p>上面三种super的用法都会报错，因为对于js引擎来说，这里的super都没有用在对象的方法之中。第一种写法super用在了对象的属性当中。第二种和第三种方法看似是用在了对象的方法之中，其实不是，它们先是用在了函数里面，然后赋值给foo属性。目前只有对象的简写方法可以让js引擎确认，定义的是对象的方法。</p>

<p>js引擎内部，super.foo等同于Object.getPrototypeOf(this).foo（属性）或Object.getPrototypeOf(this).foo.call(this)（方法）。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>const obj = {
name :'tx',
getName(){
super.getName();
}
};
const proto = {
name : 'proto_name',
getName(){
console.log(this.name);
}
};
Object.setPrototypeOf(obj,proto);
obj.getName(); // tx
</code></pre>
</div>
<p>上面代码中，super.foo指向原型对象proto的getName方法，但是绑定的this却还是当前对象obj，因此输出的就是tx。</p>

<h3 id="section-5">六、对象的扩展运算符</h3>
<p>《数组的扩展》一章中，已经介绍过扩展运算（…）。ES2018 将这个运算符引入了对象。</p>

<h4 id="section-6">解构赋值</h4>
<p>对象的解构赋值用于从一个对象取值，相当于将目标对象自身的所有可遍历的（enumerable）、但尚未被读取的属性，分配到指定的对象上面。所有的键和他们的值，都会拷贝到新对象上面。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let { x , y , ...z} = {x:1,y:2,c:3,d:4};
console.log(x);  //1
console.log(y);  //2
console.log(z);  //{c: 3, d: 4}
</code></pre>
</div>
<p>上面代码中，变量z是解构赋值所在的对象。他获取等号右边的所有尚未读取的键（a和b），将它们连同值一起拷贝归来。</p>

<p>由于解构赋值要求等号右边是一个对象，所以如果等号右边是undefined或者null就会报错，因为它们无法转为对象。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let { ...z } = null;      // 报错
let { ...z } = undefined; // 报错
</code></pre>
</div>
<p>解构赋值必须是最后一个参数，否则会报错。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {x,...z,y} = {x:1,z:3,y:2};//Rest element must be last element
</code></pre>
</div>
<p>上面代码中，解构赋值不是最后一个参数，所以会报错。</p>

<p>注意：解构赋值的拷贝是浅拷贝，即如果一个键的值是复合类型的值（数组，对象，函数），那么解构赋值拷贝的是这个值的引用，而不是这个值的副本。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let obj = { a : {b:1} };
let {...z} = obj ; 
obj.a.b = 2;
console.log(z.a.b); // 2
</code></pre>
</div>
<p>上面代码中，z是解构赋值所在的对象，拷贝了对象obj，obj对象中是复合类型，所以修改这个复合类型的值，会影响到解构赋值对他的引用。所以输出的值为2。</p>

<p>另外，扩展运算符的解构赋值，不能复制继承自原型对象的属性。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let a = {x:1};
let b = {y:2};
Object.setPrototypeOf(b,a);
let {...c} = b; 
console.log(c);   //{y: 2}
console.log(c.x); //undefined
</code></pre>
</div>
<p>上面代码中，对象c复制了对象b，但是只复制了b自身的属性，没有复制他的原型对象a的属性。</p>

<p>下面是另一个例子。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let obj = Object.create({a:1,b:2});
obj.c = 3;
let {a , ...newobj } = obj;
let { b,c } =  newobj;
console.log(a);      //1
console.log(b);      //undefined
console.log(c);      //3
console.log(newobj); //{c: 3}
</code></pre>
</div>
<p>上面代码中，变量x是单纯的解构赋值，所以可以读取对象obj继承的属性；变量b和c是扩展运算符的解构赋值，只能读取对象obj自身的属性，所以变量c可以赋值成功，变量b取不到值。</p>

<p>es6规定，变量声明语句之中，如果使用解构赋值，扩展运算符后面必须是一个变量名，而不能是一个解构赋值表达式，所以上面代码中引入了中间变量newobj，如果写成下面这样会报错。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let { a , ...{b,c}} = obj;
//`...` must be followed by an identifier in declaration contexts
</code></pre>
</div>
<p>解构赋值的一个用处，是扩展某个函数的参数，引入其他操作。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>function baseFunciton({a,b}){

}
function wrapperFunction({x,y,...restConfig }}){
// 使用 x 和 y 参数进行操作
// 其余参数传给原始函数
return baseFunciton(restConfig);
}
</code></pre>
</div>
<p>上面代码中，原始函数baseFunction接受a和b作为参数，函数wrapperFunction在baseFunction的基础上进行了扩展，能够接受多余的参数，并且保留原始函数的行为。</p>

<h4 id="section-7">扩展运算符</h4>


   
            </div>
            
          </div>
          
                <div class="next_page_box">
                  <div class="read_next">阅读下一篇文章</div>
                  <div class="next_page">
                    <a class="" href="http://localhost:4000/prose/2018/10/01/%E8%B7%AF%E8%BE%B9%E6%B5%81%E6%B5%AA%E6%B1%89.html" data-post-href="http://localhost:4000/prose/2018/10/01/%E8%B7%AF%E8%BE%B9%E6%B5%81%E6%B5%AA%E6%B1%89.html">
                      <h4>路边流浪汉</h4>
                      <div></div>
                    </a>
                  </div>
                </div>
          
          <div class="phone_bottom">
              <a class="" href="http://localhost:4000" data-post-href="http://localhost:4000">
              PREV
              </a>
              <a class="" href="http://localhost:4000/prose/2018/10/01/%E8%B7%AF%E8%BE%B9%E6%B5%81%E6%B5%AA%E6%B1%89.html" data-post-href="http://localhost:4000/prose/2018/10/01/%E8%B7%AF%E8%BE%B9%E6%B5%81%E6%B5%AA%E6%B1%89.html">
                NEXT
              </a>
          </div>
       </div>
    </div>
  </body>
<script src="/source/js/highlight.min.js"></script>
<script type="text/javascript" src="/source/js/jquery.js"></script>
<script type="text/javascript" src="/source/js/TweenMax.min.js"></script>
<script type="text/javascript" src="/source/js/DrawSVGPlugin.min.js"></script>
<script type="text/javascript" src="/source/js/tween.js"></script>
<script type="text/javascript" src="/source/js/animation.js"></script>
  <script type="text/javascript" src="/source/js/index.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
    $(document).ready(function(){
      //评论
        $('.comments').on('click',function(e){
          e.preventDefault();
          $('#lv-container').show();
        });
    })
  </script>
</html>