<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
    <link rel="stylesheet" href="/source/css/index.css" type="text/css">
    <link rel="stylesheet" href="/source/css/post_last.css" type="text/css">
    <link rel="stylesheet" href="/source/css/obsidian.min.css">
<!--     <link rel="stylesheet" type="text/css" href="/source/css/nav.css"> -->
    <link rel="stylesheet" type="text/css" href="/source/css/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>摆渡先生</title>
   <!-- <link rel="stylesheet" href="/css/highlight.css" type="text/css">-->
</head>

 <body>
 <div class="nav_box" style="z-index: 10000">
<nav class="nav">
	<ul class="nav__list">
		<li class="nav__item">
			<a class="nav__link" href="/">
				<div class="nav__link-content">
					<span class="nav__link-num">01</span>
					<div class="nav__link-title">Works</div>
					<div class="nav__link-desc">What I'm made</div>
				</div>
				<div class="nav__link-base"></div>
			</a>
			<div class="nav__item-line"></div>
		</li>
		<li class="nav__item">
			<a class="nav__link" href="/new">
				<div class="nav__link-content">
					<span class="nav__link-num">02</span>
					<div class="nav__link-title">News</div>
					<div class="nav__link-desc">Latest ramblings</div>
				</div>
				<div class="nav__link-base"></div>
			</a>
			<div class="nav__item-line"></div>
		</li>
		<li class="nav__item">
			<a class="nav__link" href="/book">
				<div class="nav__link-content">
					<span class="nav__link-num">03</span>
					<div class="nav__link-title">Books</div>
					<div class="nav__link-desc">Many good books</div>
				</div>
				<div class="nav__link-base"></div>
			</a>
			<div class="nav__item-line"></div>
		</li>
		<li class="nav__item">
			<a class="nav__link" href="/contact">
				<div class="nav__link-content">
					<span class="nav__link-num">04</span>
					<div class="nav__link-title">Contact</div>
					<div class="nav__link-desc">Don't be shy</div>
				</div>
				<div class="nav__link-base"></div>
			</a>
			<div class="nav__item-line"></div>
		</li>
        <li class="phone_btn_close nav__item">
            x
        </li>
	</ul>
  <div class="header_logo">
    <svg version="1.1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 825 299" style="enable-background:new 0 0 825 299;" xml:space="preserve">
<g class="logo_baidu">
  <path class="st0 logo_baidu_letter" fill="#fff" d="M132.94,183.58c-5.84,0.73-10.94,1.46-15.31,2.19c-2.19,0.73-4.02,0-5.47-2.19c0-5.1,1.82-8.02,5.47-8.75
    c3.64,0.73,8.75,1.09,15.31,1.09c0-5.1-0.37-10.2-1.09-15.31c0-2.91,1.09-4.38,3.28-4.38c7.29,0.73,10.57,3.65,9.84,8.75
    c-0.73,2.92-1.09,6.56-1.09,10.94h8.75c2.91,0.73,4.38,2.19,4.38,4.38c-2.19,1.46-6.56,2.19-13.13,2.19v9.84
    c7.29-1.45,11.3-1.45,12.03,0c0.73,2.19-3.28,4.74-12.03,7.66c0,11.67,0.36,21.52,1.09,29.53c0.73,5.84-1.46,10.21-6.56,13.13
    c-4.38,2.19-10.94,1.83-19.69-1.09c-7.3-3.64-11.3-7.29-12.03-10.94c17.5,4.38,26.25,3.65,26.25-2.19c0.73-9.48,0.73-17.86,0-25.16
    c-8.75,2.92-14.95,4.74-18.59,5.47c-2.92,0-4.74-1.45-5.47-4.38c-0.73-3.64,0.73-5.83,4.38-6.56c5.1-0.73,11.66-1.82,19.69-3.28
    V183.58z M217.16,162.8c3.64,0.73,5.47,3.28,5.47,7.66c-1.46,5.84-2.19,11.67-2.19,17.5c-0.73,3.65-2.92,5.11-6.56,4.38
    c-6.56-1.45-12.77-2.19-18.59-2.19c-0.73,2.19-0.73,4.38,0,6.56h14.22c3.64,0,5.83,0.73,6.56,2.19c0.73,2.92-1.09,4.38-5.47,4.38
    h-15.31c-0.73,2.19-0.73,4.38,0,6.56c15.31,0.73,28.8,0.73,40.47,0c-5.11,10.94-12.4,14.22-21.88,9.84
    c-6.56-2.19-13.13-3.28-19.69-3.28l-5.47,6.56c-2.92,2.92-5.11,5.47-6.56,7.66c3.64,2.92,7.66,4.02,12.03,3.28
    c5.1-1.45,8.38-3.28,9.84-5.47c-1.46-0.73-3.28-1.82-5.47-3.28c0.73-3.64,2.55-5.47,5.47-5.47c2.91-0.73,6.2,0.73,9.84,4.38
    c5.1,4.38,8.75,8.39,10.94,12.03c2.19,4.38,0.73,5.84-4.38,4.38c-3.65-2.91-7.66-5.83-12.03-8.75c-5.11,7.3-11.3,10.58-18.59,9.84
    c-8.02-3.64-13.13-5.1-15.31-4.38c-2.92,0.73-5.84,1.83-8.75,3.28c-2.92,0.73-5.11-0.36-6.56-3.28c-0.73-2.19,0-4.01,2.19-5.47
    c2.91-2.19,5.83-4.01,8.75-5.47c6.56-3.64,10.57-6.92,12.03-9.84c-14.59,0.73-24.06,1.83-28.44,3.28
    c-3.65,0.73-5.11-0.73-4.38-4.38c1.45-3.64,3.28-5.83,5.47-6.56c6.56,1.46,15.67,1.83,27.34,1.09c0.73-2.19,0.73-4.38,0-6.56
    c-7.3,0-13.49,0.37-18.59,1.09c-3.65,0.73-4.74-1.09-3.28-5.47c1.45-1.45,3.64-2.55,6.56-3.28c5.1,0.73,10.2,1.09,15.31,1.09
    c0.73-2.19,0.73-4.38,0-6.56c-6.56,0-11.67,0.73-15.31,2.19c-3.65,1.46-5.84,0.37-6.56-3.28c-0.73-8.75-1.46-15.67-2.19-20.78
    c0-4.38,2.55-6.2,7.66-5.47C181.8,164.99,198.93,164.99,217.16,162.8z M167.94,170.46c-0.73,2.92-0.73,7.3,0,13.13
    c3.64,1.46,6.56,1.46,8.75,0c0.73-4.38,0.73-8.75,0-13.13C174.51,169.73,171.58,169.73,167.94,170.46z M184.35,183.58
    c3.64,0.73,6.56,0.73,8.75,0c0.73-5.1,0.73-9.48,0-13.13c-2.92-0.73-5.84-0.73-8.75,0C183.62,175.57,183.62,179.94,184.35,183.58z
     M200.76,170.46c-0.73,3.65-0.73,8.02,0,13.13c4.38,1.46,7.66,1.46,9.84,0c2.19-3.64,2.55-8.02,1.09-13.13
    C208.05,169.73,204.4,169.73,200.76,170.46z"/>
  <path class="st0 logo_baidu_letter" fill="#fff" d="M255.44,189.05c8.75,2.92,17.5,5.11,26.25,6.56c1.45,0.73,1.45,1.83,0,3.28c-5.84,2.19-11.3,3.28-16.41,3.28
    c-7.3,0.73-13.13,0-17.5-2.19c-2.92-2.19-2.92-5.1,0-8.75C249.98,189.05,252.52,188.33,255.44,189.05z M255.44,216.4
    c8.75-1.45,17.5-4.01,26.25-7.66c1.45-0.73,2.55-0.73,3.28,0c-2.19,4.38-5.11,8.02-8.75,10.94c-4.38,3.65-10.94,6.93-19.69,9.84
    c-2.92,0-5.11-1.82-6.56-5.47C249.24,219.68,251.07,217.13,255.44,216.4z M262.01,166.08c7.29,5.11,14.95,9.48,22.97,13.13
    c-0.73,1.46-4.38,2.19-10.94,2.19s-12.77-1.45-18.59-4.38c-2.19-1.45-2.92-3.28-2.19-5.47
    C254.71,167.18,257.63,165.36,262.01,166.08z M313.41,186.87c-4.38-0.73-8.39-0.36-12.03,1.09c0,5.84-0.73,13.13-2.19,21.88
    c-0.73,4.38-2.19,8.39-4.38,12.03c-2.19,3.65-4.38,6.56-6.56,8.75c-5.11,4.38-9.48,6.93-13.13,7.66c-2.92,0-5.47-0.36-7.66-1.09
    c-1.46-1.45-2.55-2.55-3.28-3.28c2.91-2.19,6.2-4.01,9.84-5.47c3.64-2.19,6.92-5.1,9.84-8.75c2.19-3.64,4.01-7.29,5.47-10.94
    c1.45-5.83,2.19-11.3,2.19-16.41c0.73-8.75-0.37-16.04-3.28-21.88c0-4.38,2.19-6.56,6.56-6.56c4.38,1.46,12.39,2.19,24.06,2.19
    v-6.56c1.45-2.91,4.38-4.01,8.75-3.28c2.19,0.73,4.01,1.83,5.47,3.28v6.56h20.78c6.56,0,9.84,1.46,9.84,4.38
    c-1.46,1.46-7.66,2.19-18.59,2.19c-1.46,2.92-1.46,5.47,0,7.66h8.75c5.83,0,8.75,1.09,8.75,3.28s-1.09,3.28-3.28,3.28h-14.22
    c-0.73,3.65-0.73,6.93,0,9.84c0.73,3.65-1.09,5.11-5.47,4.38c-2.92-1.45-5.84-2.55-8.75-3.28c-2.19,0-4.38,0-6.56,0
    c-2.19,0.73-4.02,1.46-5.47,2.19c-3.65,0.73-5.47-0.36-5.47-3.28C314.14,192.33,314.14,189.05,313.41,186.87z M314.51,202.18
    c2.19,0.73,4.38,1.09,6.56,1.09c7.29-0.73,14.95-0.36,22.97,1.09c5.1,1.46,6.92,4.02,5.47,7.66c-2.19,2.92-5.11,6.93-8.75,12.03
    c16.04,5.11,28.07,7.66,36.09,7.66c-7.3,10.94-14.59,14.58-21.88,10.94c-6.56-4.38-13.49-8.75-20.78-13.13
    c-9.48,5.11-17.87,8.75-25.16,10.94c-6.56,1.46-10.58-0.73-12.03-6.56c0.73-0.73,4.73-1.82,12.03-3.28
    c8.02-1.45,14.22-3.64,18.59-6.56c-4.38-2.91-8.39-5.47-12.03-7.66c0-3.64,1.82-5.1,5.47-4.38c3.64,2.19,7.66,4.74,12.03,7.66
    c2.91-2.19,4.73-4.73,5.47-7.66c0.73-2.19-0.73-3.28-4.38-3.28c-6.56,0-12.77,0.37-18.59,1.09c-3.65,2.19-5.84,2.19-6.56,0
    C309.76,205.46,311.58,202.91,314.51,202.18z M313.41,172.65c-3.65-0.73-8.02-0.73-13.13,0c-0.73,2.92-0.73,5.47,0,7.66
    c4.38,0.73,8.75,0.73,13.13,0C314.14,177.39,314.14,174.83,313.41,172.65z M322.16,172.65c-0.73,2.92-0.73,5.47,0,7.66
    c5.1,0.73,9.48,0.73,13.13,0c0.73-2.91,0.73-5.47,0-7.66C330.91,171.92,326.54,171.92,322.16,172.65z M336.38,186.87
    c-4.38-0.73-9.12-0.73-14.22,0c0,1.46,0,3.28,0,5.47c4.38,0.73,8.38,0.73,12.03,0C336.38,192.33,337.11,190.51,336.38,186.87z"/>
</g>
<polyline class="st1 logo_baidu_border" points="409.5,179.35 409.5,261 81.5,261 81.5,140 367.18,140 " fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="16"/>
<g class="logo__plus" fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="16">
  <line class="st1 logo__plus-horz" x1="382.5" y1="140.5" x2="436.5" y2="140.5"/>
  <!-- <path class="st1" d="M411.5,117.5"/> -->
  <line class="st1 logo__plus-vert" x1="409.5" y1="167.5" x2="409.5" y2="113.5"/>
</g>
<g class="logo__xiansheng">
  <path class="st2 logo_xiansheng_letter" fill="#fff" d="M484.78,60.65c-5.11,3.65-9.12,5.47-12.03,5.47c-4.38,0-5.47-1.09-3.28-3.28c5.1-2.91,8.75-8.02,10.94-15.31
    c1.45-6.56,3.64-9.48,6.56-8.75c2.91,0,4.73,1.46,5.47,4.38c0,3.65-1.09,6.56-3.28,8.75h16.41V39.87c0-4.38,1.82-6.92,5.47-7.66
    c6.56,0,9.84,2.92,9.84,8.75V51.9h25.16c4.38,0,6.2,1.83,5.47,5.47c-0.73,2.19-2.19,3.28-4.38,3.28h-26.25v8.75
    c10.94,0,22.6,0.37,35,1.09c2.91,0,4.73,1.09,5.47,3.28c0.73,4.38-1.83,6.56-7.66,6.56c-10.21-0.73-19.69-1.09-28.44-1.09v10.94
    c0,8.02,6.56,12.03,19.69,12.03c14.58,0.73,26.25-1.45,35-6.56c-2.92,10.94-6.2,17.5-9.84,19.69c-7.3,5.11-17.87,5.84-31.72,2.19
    c-5.11-1.45-9.48-3.28-13.13-5.47c-7.3-4.38-11.3-10.57-12.03-18.59V79.24h-6.56c-0.73,4.38-2.55,9.48-5.47,15.31
    c-6.56,9.48-14.22,16.05-22.97,19.69c-7.3,2.92-14.59,3.65-21.88,2.19c-6.56-2.91-8.75-5.83-6.56-8.75
    c24.79-0.73,40.1-10.2,45.94-28.44c-5.84-0.73-13.49,0-22.97,2.19c-7.3,2.19-10.58,0.73-9.84-4.38c3.64-5.83,6.92-8.38,9.84-7.66
    c8.02,1.46,18.95,1.46,32.81,0v-8.75H484.78z"/>

  <path class="st3 logo_xiansheng_letter" fill="#fff" d="M645.29,63.43c-6.56-0.73-14.22-0.73-22.97,0c-2.92,3.65-7.3,6.93-13.13,9.84c-2.92,0.73-4.02,0-3.28-2.19
    c5.83-6.56,9.84-13.48,12.03-20.78c2.19-8.75,6.2-12.03,12.03-9.84c4.38,2.92,3.64,8.02-2.19,15.31h17.5
    c0.73-6.56,0.73-12.39,0-17.5c0-4.38,2.19-6.92,6.56-7.66c5.83,0,8.75,2.55,8.75,7.66c0,8.75,0.36,14.59,1.09,17.5h22.97
    c8.02-0.73,12.03,0.73,12.03,4.38c2.19,3.65-9.48,4.74-35,3.28c-1.46,3.65-1.46,7.3,0,10.94l21.88,1.09c2.91,0,6.2,0.73,9.84,2.19
    c1.45,2.92,1.09,4.74-1.09,5.47c-8.75-0.73-18.23-0.73-28.44,0c-2.19,0-3.28,3.65-3.28,10.94c0.73,6.56,16.04,8.02,45.94,4.38
    c3.64,0,8.02-0.73,13.13-2.19c-3.65,16.77-12.03,22.97-25.16,18.59c-22.61-8.02-48.13-10.2-76.56-6.56
    c-10.94,2.19-17.87,3.65-20.78,4.38c-5.84,1.46-8.02-0.36-6.56-5.47c2.91-5.83,6.92-9.48,12.03-10.94
    c2.91-0.73,7.29-0.36,13.13,1.09c18.95,2.19,28.8,1.46,29.53-2.19c1.45-8.02,0-12.03-4.38-12.03c-7.3-0.73-14.22,0-20.78,2.19
    c-4.38,1.46-5.84-0.36-4.38-5.47c0.73-2.19,2.91-4.38,6.56-6.56c2.91-1.45,5.83-1.09,8.75,1.09c5.83,0.73,10.2,0.73,13.13,0
    C646.38,72.91,646.74,69.27,645.29,63.43z"/>
</g>
<polyline class="st1 logo_xiansheng_border" points="409.5,101.65 409.5,20 737.5,20 737.5,141 451.82,141 " fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="16"/>
</svg>
  </div>
</nav>
<svg class="nav__bg" width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <linearGradient class="nav__grad" x1="92.6356902%" y1="7.36430977%" x2="0%" y2="100%" id="nav-grad">
            <!-- <stop stop-color="#000000" offset="20%"></stop>
            <stop stop-color="#223e36" offset="100%"></stop> -->
            <!-- <stop stop-color="#43C6AC" offset="20%"></stop>
            <stop stop-color="#191654" offset="100%"></stop> -->
            <stop stop-color="#00dbde" offset="20%"></stop>
            <stop stop-color="#fc00ff" offset="100%"></stop>
        </linearGradient>
		<mask id="nav__bg-mask" class="nav__bg-mask" maskUnits="userSpaceOnUse"x="0" y="0" width="100" height="100">
		  	<rect class="nav__bg-mask-rect" x="0" y="0" width="25" height="100" fill="white"/>
			<rect class="nav__bg-mask-rect" x="24.9" y="0" width="25.1" height="100" fill="white"/>
			<rect class="nav__bg-mask-rect" x="49.9" y="0" width="25.1" height="100" fill="white"/>
			<rect class="nav__bg-mask-rect" x="74.9" y="0" width="25.1" height="100" fill="white"/>
		</mask>
    </defs>
    <rect x="0" y="0" width="100" height="100" fill="url(#nav-grad)" mask="url(#nav__bg-mask)"></rect>
</svg>
 <!--pc_menu_btn--> 
<button class="nav-btn">
  <svg class="burger <?php echo $darkBurgerClass; ?>" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">
  <rect class="burger__stroke"  x="2" y="2" width="32" height="32" fill="none" stroke="" stroke-miterlimit="10" stroke-width="4"/>
  <polyline class="burger__stroke-over"points="18 2 34 2 34 34 2 34 2 2 18 2" fill="none" stroke="" stroke-miterlimit="10" stroke-width="4"/>
  <g class="burger__plus">
    <rect class="burger__plus-left" x="8" y="16" width="10" height="4"/>
    <rect class="burger__plus-btm" x="16" y="18" width="4" height="10"/>
    <rect class="burger__plus-right" x="18" y="16" width="10" height="4"/>
    <rect class="burger__plus-top" x="16" y="8" width="4" height="10"/>
  </g>
  </svg>
</button>
</div>

   <div class="content_container">
      <div class="common_box">
        <div class="slide_img" id="slide_img_1"><div class="slide_img_shade"></div></div>
        <div class="title_box">
          <h2 class="main_title"><span>WORKS</span></h2>
        </div> 
      </div>
      <div class="content_box">
          <div class="content_content" >
            <div class="post_content">
                <div class="content_title">
                  <h1>ES6基础-变量的解构赋值</h1><span id="busuanzi_container_page_pv">
                  <span><time datetime=""></time></span>
                </div>
                  <h3 id="一数组的解构赋值">一、数组的解构赋值</h3>
<h4 id="基本用法">基本用法</h4>
<p>ES6允许按照一定模式，从数组和对象中获取值，对变量进行赋值，这被称为解构。</p>

<p>以前，为变量赋值，只能直接指定值。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let a = 1 ;
let b = 'adc';
</code></pre>
</div>
<p>ES6可以写成下面这样</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let [a,b] = [1,'abc'];
console.log(a);
console.log(b);
</code></pre>
</div>
<p>上面代码表示：等号左边声明了两个变量a和b，按照对应位置赋值等号右边数组里的1和adc。只要等号两边的模式相同，等号左边的变量就会对应位置赋予右边的值，
下面是使用数组嵌套进行解构的例子。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let [a,[b]] = [1,['abc']];
console.log(a);//1
console.log(b);//adc

let [,,c] = [1,2,'adc'];
console.log(c);//adc

let [x,,y] = [1,2,3];
console.log(x);//1
console.log(y);//3

let [n,...m] = [1,2,3];
console.log(n);//1
console.log(m);//[2,3]

let [n1,n2,...n3] = [1];
console.log(n1);//1
console.log(n2);//undefined
console.log(n3);//[]

</code></pre>
</div>
<p>如果解构不成功，解构这词真难受，叫赋值不成功吧，如果等号右边的值数量小于等号左边的变量数量，多处的变量的值就等于undifined。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let [x1] = [];
console.log(x1);//undefined
let [x2,x3] = [1];
console.log(x3);//undefined
</code></pre>
</div>
<p>以上两种都属于赋值不成功。</p>

<p>另一种情况是不完全赋值，即等号右边的值的数量大于等号左边变量的数量，这样就只匹配等号右边部分的值，也就是说多余的就用不上了。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let [a,b] = [1,2,3];
console.log(a);//1
console.log(b);//2

let [a1,[b1],c1] = [1,[2,3],4];
console.log(a1);//1
console.log(b1);//2
console.log(c1);//4
</code></pre>
</div>
<p>上面两个例子，都属于不完全赋值，都是可以赋值成功的。</p>

<p>如果等号的右边不是数组(或者严格的说，不是可遍历的解构），那么将会报错。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let [x1] = {};         //报错
let [x1] = 1;          //报错
let [x1] = true;       //报错
let [x1] = undefined;  //报错
let [x1] = 'undefined';//x1 = u,这个可以，字符出可遍历
</code></pre>
</div>
<p>对于Set数据结构，也可以使用数组的解构赋值。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let [a,b,c] = new Set([1,2,3]);
console.log(a); 
</code></pre>
</div>
<p>事实上，只要某种数据解构具有Iterator接口，都可以采用数组形式的解构赋值。</p>

<p>【】这里有个Generator函数,还没学到，看不懂，后面补。</p>

<h4 id="默认值">默认值</h4>
<p>解构赋值允许指定默认值</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let [a = 1] = [];
console.log(a);//1

let [b,c='adc'] = [1];
console.log(b);//1
console.log(c); //abc

let [d,f='abc'] = [1,undefined];
console.log(d);//1
console.log(f);//abc
</code></pre>
</div>
<p>注意：ES6内部使用严格相等运算符(===)判断一个位置是否有值。所以当一个数组内的变量成员对应的位置严格等于undefined，默认值才会生效。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let [d,f='abc'] = [1,undefined];
console.log(f);//abc 默认值生效

let [j,h='adc'] = [1,2];
console.log(h); //2 默认值未生效，虽然h有默认值，但是等号右边对应位置不严格等于undefined

let [i=1] = [null];
console.log(i);//null，默认值同样未生效，原因也是对应位置null不严格等于undefined
</code></pre>
</div>
<p>如果默认值是一个表达式，那么这个表达式是惰性求值的，只有在用到的时候才会求值。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>function func(){
	return 1;
}
let [a = func()] = [2];
console.log(a);//2 func并不会执行
</code></pre>
</div>
<p>上面的代码中函数func不会执行，因为a可以取到等号右边的值。上面的代码实际等于下面的代码</p>
<div class="highlighter-rouge"><pre class="highlight"><code>function func(){
	return 1;
}
let a ;
if([2][0] === undefined){
	a = func();
}else{
	a = [2][0];
}
console.log(a);//2
</code></pre>
</div>
<p>默认值可以引用解构赋值的其他变量，但该变量必须已经声明.。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let [a = 1, b = a] = [];
console.log(b);//1

let [a = 1, b = a] = [2];
console.log(a);//2
console.log(b);//2

let [a = 1, b = a] = [1,2];
console.log(a);//1
console.log(b);//2

let [a=b,b] = [1];
console.log(a);//1
console.log(b);//undefined

let [a=b,b] = [];//报错 b is not defined
</code></pre>
</div>
<h3 id="二对象的解构赋值">二、对象的解构赋值</h3>
<p>解构不仅可以用于数组，还可以用于对象。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {obj1,obj2} = {obj1:1,obj2:2};
console.log(obj1);//1
console.log(obj2);//1
</code></pre>
</div>
<p>对象的解构与数组的解构有一个不同，数组中变量和值的对应是按位置对应的，而对象的变量赋值是没有位置概念的，是靠属性名对应赋值的。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {x,y} = {x:1,y:2};
console.log(x);//1
console.log(y);//1

let { z, x } = {x:1, y:2};
console.log(z); //undefined
console.log(x); //1
</code></pre>
</div>
<p>上面的代码第一个例子把顺序调换了一下，但是等号右边的属性名只要有对应上，就可以解构成功，第二个例子obj3在等号右边没有对应的属性名，所以值为undefined。</p>

<p>如果变量名与属性名不一致，必须写成下面这样。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {x:z} = {x:1};
console.log(z);//1

let obj = {x:1,y:'abc'};
let {x:x1,y:y1} = obj;
console.log(x1);//1
console.log(y1);//abc
</code></pre>
</div>
<p>这实际上说明：对象的解构赋值是下面形式的简写。参见《对象的扩展》。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {x:x, y:y} = {x:1,y:'abc'};
console.log(x);//1
console.log(y);//abc
</code></pre>
</div>
<p>也就是说，对象的解构赋值的内部机制，是先找到同名属性，然后再赋值给对应的变量。真正被赋值的是后者，而不是前者。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {x:y} = {x:1};
console.log(y);//1
console.log(x);// 报错 x is not defined
</code></pre>
</div>
<p>上面代码中,x是匹配的模式，y才是被赋值的变量，而不是模式被赋值。</p>

<p>与数组一样，解构也可以用于嵌套解构的对象。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let obj  = {
	name:'tx',
	p:[
		1,
		{age:28}
	]
};
let {name,p:[y,{ age }] } = obj;
console.log(name);//tx
console.log(y);//1
console.log(age);//28 
</code></pre>
</div>
<p>下面是另一个例子。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>const obj = {
	loc : {
		start:{
			line:1,
			column:'abc'
		}
	}
};
let {loc,loc:{ start } , loc:{ start :{ line,column } } } = obj;
console.log(loc);
console.log(start);
console.log(line);
console.log(column);
</code></pre>
</div>
<p>上面代码有四次解构赋值，分别对loc，start，line，column四个属性的解构赋值，注意，对line和column赋值的时候，外层的start和loc都是匹配模式，不是变量。</p>

<p>下面是嵌套赋值</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let obj = {};
let arr = [];
({ x:obj.name , y:arr[0] } = {x:'tx',y:[1,2]}); //这个括号是干嘛滴 ？
console.log(obj);//{name: "tx"}
console.log(arr);//[1,2]
</code></pre>
</div>
<p>对象的解构也可以指定默认值</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {x = 1} = {};
console.log(x);//1

let { x , y = 1} = {x:1};
console.log(x);//1
console.log(y);//1

let {x:y=1} = {};
console.log(y);//1
console.log(x);//报错x is not defined

let {x:y=1} = {x:2};
console.log(y);//2 不等于默认值
console.log(x);//报错x is not defined
</code></pre>
</div>
<p>默认值生效的条件是:对象的属性值严格等于undefined。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {x:y=1} = {x:undefined};
console.log(y);//1

let {x:y=1} = {x:null};
console.log(y);//null 属性的值null不严格等于undefined
</code></pre>
</div>
<p>如果等号右边没有属性名与变量对应，那么变量将被赋值undefined</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {x} = {y:1};
console.log(x);//undefined
</code></pre>
</div>
<p>如果解构模式是嵌套的对象，而且子对象所在的父属性不存在，将报错。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {obj:{x}} = {x:1}; //报错
</code></pre>
</div>
<p>上面代码中，等号左边的obj对象在等号右边找不到匹配的，所以obj被赋值undefined，再取子属性就会报错。</p>

<p>猜一下下面会打印什么结果？</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {obj:{x}} = {obj:{'abc'}}; //？

let {obj:{x}} = {obj:{x:'abc'}}; //？

let obj = {x: 'x'};
console.log(obj); //? 
console.log(obj.x);//?
console.log(obj.y);//?
</code></pre>
</div>
<p>如果将一个已经声明的变量进行解构赋值，必须非常小心。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let x ;
{x} = {x:1};
console.log(x);//报错 Unexpected token =
</code></pre>
</div>
<p>上面的写法会报错，因为js引擎会把{x}理解成一个代码块，从而发生语法错误。只有不将大括号写在开头，才能避免这个错误。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let x ;
({x} = {x:1});
console.log(x);//1
</code></pre>
</div>
<p>上面的代码把整个解构语句放在一个()里面，就可以解构成功。（圆括号是啥意思 ?）</p>

<p>解构赋值允许等号左边的模式，不放置任何变量名，因此，可以写出非常古怪的赋值表达式。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>({} = [1,2]);
({} = 'abc');
({} = []);
</code></pre>
</div>
<p>上面代码没有意义，但是能运行。</p>

<p>对象的解构赋值，可以很方便的将现有对象的方法，赋值到某个变量。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {log , sin , cos} = Math;
</code></pre>
</div>
<p>上面代码将Math函数的对数，正弦，余弦三个方法，赋值到对应的变量上，使用起来很方便。</p>

<p>由于数组本质是对象，因此可以对数组进行对象属性的解构。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let arr = [1,2,3,4];
let {0:x , [arr.length -1 ] : y} = arr;
console.log(x); //1
console.log(y); //4
</code></pre>
</div>
<p>上面代码对数组进行对象解构。数组arr的0键对应的值是1，[arr.length - 1]对应的就是数组的最后一项，所以对应的值是4，圆括号还没明白，又出来个方括号。参见《对象的扩展》。</p>
<h3 id="三字符出的解构赋值">三、字符出的解构赋值</h3>
<p>字符出也可以解构赋值。这是因为此时，字符串被转换成了一个类似数组的对象。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let [a,b,c,d,e] = 'hello';
console.log(a);//a

let [a,b] = 'abc';
console.log(a);//a

let [a,b,c,d] = 'abc';
console.log(d);//undefined
</code></pre>
</div>
<p>类似数组的对象都有一个length属性，因此可以对这个length属性进行解构赋值。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {length:len} = 'abc';
console.log(len);//3

let {len:len} = 'abc';
console.log(len);//undefined
</code></pre>
</div>
<h3 id="四数值和布尔值的解构赋值">四、数值和布尔值的解构赋值</h3>
<p>解构赋值语句，如果等号右边是数字或者布尔值，则会先转为对象。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {toString:x} = 123;
console.log(x);//tostring function
console.log(x === Number.prototype.toString);//true
let {x:x} = 123;
console.log(x);//undefined

let {toString:x} = true;
console.log(x);//tostring function
console.log(x === Boolean.prototype.toString);//true
let {x:x} = true;
console.log(x);//undefined
</code></pre>
</div>
<p>上面代码中，数字和布尔值的包装对象都有toString属性，因此变量可以取到值。</p>

<p>解构赋值的规则是：只要等号右边的值不是数组或者对象，就先将其转化为对象，由于undefined和null都不能转化为对象，因此对他们进行解构赋值，都会报错。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let {x} = undefined; //报错
let {y} = null; //报错
</code></pre>
</div>
<h3 id="五函数参数的解构赋值">五、函数参数的解构赋值</h3>
<p>函数的参数也可以使用解构赋值。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>function func([x,y]){
	return x + y;
}
func([1,2]); //3
</code></pre>
</div>
<p>上面代码中，函数func的参数是一个数组，但在函数内部，数组参数就被解构为变量x和y了。</p>

<p>下面是另一个例子。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>[[1, 2], [3, 4]].map(([a, b]) =&gt; a + b); //[ 3, 7 ]
</code></pre>
</div>
<p>【】上面不懂</p>

<p>函数参数的解构也可以使用默认值。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>function func({x = 0 , y = 0} = {}){
	return [x,y];
}
func({x:1});       //[1,0]
func({x:1,y:2});   //[1,2]
func({});          //[0,0]
func();            //[0,0]
</code></pre>
</div>
<p>上面的函数参数是一个对象，通过对这个对象解构，得到变量x和y的值，如果解构失败，x和y等于默认值。</p>

<p>注意下面的写法会得到不一样的结果。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>function func({x,y} = {x:0,y:0}){
	return [x,y];
}
func({x:1});       //[1, undefined]
func({x:1,y:2});   //[1, 2]
func({});          //[undefined, undefined]
func();            //[0, 0]
</code></pre>
</div>
<p>上面的代码是为函数func的参数指定默认值，而不是为变量x和y指定默认值，所以会得到跟之前的写法不同的结果。</p>

<p>undefined就会触发函数参数的默认值。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>[1, undefined, 3].map((x = 'yes') =&gt; x);
// [ 1, 'yes', 3 ]
</code></pre>
</div>
<p>【】上面不懂</p>
<h3 id="六圆括号的问题">六、圆括号的问题</h3>
<p>解构赋值虽然很方便，但是解析起来并不容易。对于编译器来说，一条语句到底是解构赋值还是表达式，没有办法从一开始就知道，必须解析到（或者解析不到）等号才知道。</p>

<p>由此带来的问题是，如果解构赋值中出现圆括号怎么处理，ES6的规则是，只要有可能导致解构的歧义，就不得使用圆括号。</p>

<p>但是，这条规则实际上不容易判别，处理起来相当麻烦，因此，只要有可能，就不要在结构中出现圆括号。</p>

<h4 id="不能使用圆括号的情况">不能使用圆括号的情况</h4>
<p>以下三种情况解构赋值不能使用圆括号。</p>

<p>1.变量声明语句：</p>
<div class="highlighter-rouge"><pre class="highlight"><code>//全部报错
let [(x)] = [1];
let [(x)] = [(1)];

let {x:(y)} = {};
let ({x:y}) = {};
let {(x):y} = {};
let {(x:Y)} = {};
</code></pre>
</div>
<p>上面都会报错，因为他们都是变量声明语句，模式不能使用圆括号，总之，带let 和const都不行。</p>

<p>2.函数参数：函数参数也属于变量声明，所以也不行。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>//都报错
function func([(x)]){
	return x;
}

function func({(x)}){
	return x;
}
</code></pre>
</div>
<p>3.赋值语句的模式。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>//都报错
([x]) = [1];
({ x : y }) = {x:1};
</code></pre>
</div>
<p>等号左边整个被圆括号包裹，导致报错。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>[({x:y}),{n:m}] = [{x:1},{n:2}];
</code></pre>
</div>
<p>等号左边模式部分使用圆括号，也报错。</p>

<h4 id="可以使用圆括号的情况">可以使用圆括号的情况</h4>
<p>可以使用圆括号只有一种情况：解构赋值语句的非模式部分。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>[(x)] = [1];
console.log(x);//1

([{x:y},{n:m}] = [{x:1},{n:2}]);
console.log(y);//1

[{x:y},{n:(m)}] = [{x:1},{n:2}];
console.log(y);//1
console.log(m);//2
</code></pre>
</div>
<p>上面的代码都可以解构赋值成功，原因：</p>

<p>1.都是赋值语句，不是变量声明。</p>

<p>2.圆括号都不在匹配模式的部分。第一个例子里面虽然用在了模式部分，但是因为是数组，模式按照位置匹配，所以可以成功。</p>
<h3 id="七用途">七、用途</h3>
<p>1.交换变量的值：</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let x = 1;
let y = 2;
[x,y] = [y,x];
console.log(x);//2
console.log(y);//1
</code></pre>
</div>
<p>2.取出从函数返回的多个值：</p>

<p>函数如果返回多个值，只能将他们放在数组或者对象里返回，有了解构赋值，取出这些返回值就很方便了。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>//返回数组
function func(){
	return [1,2,3];
}
let [x,y,z] = func();
console.log(x);//1

//返回对象
function func(){
	return {
		name:'tx',
		old:24
	};
}
let {name,old} = func();
console.log(name);//tx
</code></pre>
</div>
<p>3.函数参数的传参：</p>

<p>解构赋值可以让传参变得容易</p>
<div class="highlighter-rouge"><pre class="highlight"><code>//有序的参数
function func([x,y,z]){
	return [x,y,z]
}
func([1,2,3]);//[1,2.3]

//无序的参数
function func({x,z,y}){
	return [x,y,z]
}
func({z:1,y:2,x:3});//[1,2,3]
</code></pre>
</div>
<p>4.提取json数据</p>

<p>解构赋值对提取json数据特别有用</p>
<div class="highlighter-rouge"><pre class="highlight"><code>let jsonData = {
	name:'tianxin',
	old : 24,
	listdata:[1,3,5,7]
};
let {name,old,listdata} = jsonData;
console.log(listdata); //[1,3,5,7]
</code></pre>
</div>
<p>5.函数参数的默认值</p>
<div class="highlighter-rouge"><pre class="highlight"><code>jQuery.ajax = function (url, {
  async = true,
  beforeSend = function () {},
  cache = true,
  complete = function () {},
  crossDomain = false,
  global = true,
  // ... more config
} = {}) {
  // ... do stuff
};
</code></pre>
</div>
<p>指定参数的默认值，就避免了在函数体内部再写var foo = config.foo || ‘default foo’;这样的语句。</p>

<p>【】上面的例子直接复制过来了，不是很理解比原先方便在哪 。</p>

<p>6.遍历map结构</p>

<p>任何具有Iterator接口的对象，都可以用for…o循环遍历。Map结构原生支持Iterator接口，配合变量的解构赋值，获取键值和键名就很方便。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>const map = new Map();
map.set('first', 'hello');
map.set('second', 'world');

for (let [key, value] of map) {
  console.log(key + " is " + value);
}
// first is hello
// second is world
</code></pre>
</div>
<p>【】同上 看完map回来补。</p>

<p>如果只想获取键名，或者只想获取键值，可以写成下面这样。</p>
<div class="highlighter-rouge"><pre class="highlight"><code>// 获取键名
for (let [key] of map) {
  // ...
}

// 获取键值
for (let [,value] of map) {
  // ...
}
</code></pre>
</div>
<p>【】同上 看完map回来补。</p>

<p>7.输入模块的指定方法</p>
<div class="highlighter-rouge"><pre class="highlight"><code>const { source-map中具有的方法名1, source-map中具有的方法名2 } = require("source-map");
</code></pre>
</div>


   
            </div>
            
          </div>
          
                <div class="next_page_box">
                  <div class="read_next">阅读下一篇文章</div>
                  <div class="next_page">
                    <a class="" href="http://localhost:4000/tec/2018/04/20/H5-indexedDB%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5.html" data-post-href="http://localhost:4000/tec/2018/04/20/H5-indexedDB%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5.html">
                      <h4>H5-indexedDB数据库的增删改查</h4>
                      <div></div>
                    </a>
                  </div>
                </div>
          
          <div class="phone_bottom">
              <a class="" href="http://localhost:4000/tec/2018/05/07/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%89%A9%E5%B1%95.html" data-post-href="http://localhost:4000/tec/2018/05/07/%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%89%A9%E5%B1%95.html">
              PREV
              </a>
              <a class="" href="http://localhost:4000/tec/2018/04/20/H5-indexedDB%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5.html" data-post-href="http://localhost:4000/tec/2018/04/20/H5-indexedDB%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5.html">
                NEXT
              </a>
          </div>
       </div>
    </div>
  </body>
<script src="/source/js/highlight.min.js"></script>
<script type="text/javascript" src="/source/js/jquery.js"></script>
<script type="text/javascript" src="/source/js/TweenMax.min.js"></script>
<script type="text/javascript" src="/source/js/DrawSVGPlugin.min.js"></script>
<script type="text/javascript" src="/source/js/tween.js"></script>
<script type="text/javascript" src="/source/js/animation.js"></script>
  <script type="text/javascript" src="/source/js/index.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
    $(document).ready(function(){
      //评论
        $('.comments').on('click',function(e){
          e.preventDefault();
          $('#lv-container').show();
        });
    })
  </script>
</html>