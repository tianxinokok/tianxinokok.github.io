<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>垃圾回收机制跟执行环境（作用域）的关系</title>
</head>
<body>
<h3>垃圾回收机制跟执行环境（作用域）的关系</h3>
<p>(1)标记清除：垃圾收集器运行的时候会给存储在内存中的所有变量加上标记，然后他会去掉当前环境中的变量以及被当前环境引用的变量的标记，<br>此时剩下没有被去掉标记的变量就是准备要回收的变量，因为当前执行环境已经用不到他们了，销毁这些变量并释放他们所占用的内存</p>
<p>(2)由上面可以看出，全局环境中的变量理论上会一直存在，因为全局环境是最顶层环境。所以为了性能考虑，要善用全局变量</p>
<p>(3)垃圾回收机制会定期执行（IE,opera 浏览器也可以自己控制时间，不建议这么操作）</p>
<p>(4)IE,Firefox,Opera,Chrome,Safari都是标记清除式的垃圾回收方式，</p>
<p></p>
</body>
</html>
<script type="text/javascript">
	if(true){
		var color = 'blue';
	}
	alert(color);  //js 没有块级作用域，只有执行环境，if中的变量声明不会在if执行后被销毁，而是添加到当前作用域，在这里也就是全局环境中。

	for(var i = 0;i<10; i++){
		console.log(i);
	}
	alert(i);  // 因为没有块级作用域，只有执行环境,所以for循环里的i循环之后还是没有被销毁，而是存在于全局环境中i = 10 
</script>